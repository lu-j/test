\documentclass[,a4paper]{article}
\usepackage[ngerman]{babel}
\usepackage{geometry}
\geometry{a4paper,left=35mm,right=35mm, top=25mm, bottom=25mm}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
% use microtype if available
\IfFileExists{microtype.sty}{\usepackage{microtype}}{}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \usepackage{fontspec}
  \ifxetex
    \usepackage{xltxtra,xunicode}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{€}
\fi
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
\usepackage{graphicx}
% We will generate all images so they have a width \maxwidth. This means
% that they will get their normal width if they fit onto the page, but
% are scaled down if they would overflow the margins.
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=\maxwidth]{#1}}
\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={OParl Team - http://oparl.org/},
            pdftitle={OParl Vokabular und Schnittstellen-Spezifikation (Entwurf)},
            colorlinks=true,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\setcounter{secnumdepth}{0}

\title{OParl Vokabular und Schnittstellen-Spezifikation (Entwurf)}
\author{OParl Team - http://oparl.org/}
\date{}

\begin{document}
\maketitle

Lizenz: Creative Commons CC-BY-SA

\section{Einleitung}\label{einleitung}

Dieses Dokument wird bei seiner Fertigstellung die Spezifikation des
OParl Schnittstellen-Standards für parlamentarische
Informationssysteme\footnote{In Deutschland hat sich auf kommunaler
  Ebene der Begriff ``Ratsinformationssystem'' etabliert. OParl ist in
  seiner Anwendung jedoch nicht auf Gemeinderäte eingeschränkt und
  verwendet daher den Begriff ``parlamentarisches Informationssystem''.}
darstellen. Es dient damit als Grundlage für die Implementierung von
OParl-konformen Server- und Clientanwendungen.

\subsection{Status}\label{status}

Die Spezifikation befindet sich in Arbeit. Das Dokument enthält
entsprechend viele Ungenauigkeiten und Hinweise auf offene
Fragestellungen.

Die Kennzeichnung ``TODO'' markiert Hinweise, die für die Bearbeiter des
Dokuments gedacht sind. Darunter befinden sich auch Fragen an deren
Beantwortung durch Reviewer des Dokuments die Autoren interessiert sind.

\subsection{Was ist OParl in Kürze?}\label{was-ist-oparl-in-kuxfcrze}

OParl ist die Gruppierung, die Initiator und Herausgeber der
vorliegenden Spezifikation ist. An OParl wirken Verbände,
Zivilgesellschaftliche Organisationen und Initiativen und
Software-Anbieter sowie interessierte Einzelpersonen mit.

Die vorliegende Spezifikation beschreibt den OParl-Standard. Dieser
definiert eine Webservice-Schnittstelle, die den anonymen und lesenden
Zugriff auf öffentliche Inhalte aus parlamentarischen
Informationssystemen ermöglicht. Wie der Name ``Webservice'' ausdrückt,
setzt diese Schnittstelle auf dem World Wide Web auf. Sie ermöglicht,
dass parlamentarishe Informationen maschinenlesbar als Offene Daten
(Open Data) veröffentlicht werden.

Die vorligende Version ist die erste verabschiedete Version der
Spezifikaiton zum OParl-Standard.

\subsection{Zielsetzung von OParl}\label{zielsetzung-von-oparl}

OParl richtet sich an verschiedene Nutzergruppen und Stakeholder:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Verwaltung und politische Gremien in Kommunen
\item
  Bürger, politische Parteien und Organisationen
\item
  Open Data Initiativen
\item
  Wissenschaftler
\item
  Anbieter von Server- und Softwareprodukten
\item
  Anbieter von Linked Data-Plattformen oder -Services
\end{itemize}

TODO: Nutzen für jede Stakeholder-Gruppe

TODO: Linked Data erwähnen oder Verweis auf Linked Data Abschnitt

Die Gründe, warum Betreiber von parlamentarischen Informationssystemen
den Zugriff darauf über eine standardisierte Schnittstelle ermöglichen
sollten, können vielfältig sein.

Ein zentrales Argument ist die Verpflichtung der Parlamente gegenüber
der Bevölkerung, diese über die Fortschritte der parlamentarischen
Arbeit zu informieren und auf dem Laufenden zu halten. Ein erster
Schritt, der Bevölkerung Einblicke in die Arbeit und Zugriff auf
Dokumente zu gewähren, ist vielerorts in den letzten Jahren durch
Einführung von Ratsinformationssystemen mit anonymem, lesenden Zugriff
über das World Wide Web gemacht worden.

Die damit eingeschlagene Richtung konsequent weiter zu gehen, bedeutet,
die Daten der parlamentarischen Informationssystemen gänzlich offen zu
legen, sofern die Inhalte es erlauben. Es bedeutet, die Daten und
Inhalte so universell weiterverwendbar und so barrierearm wie möglich
anzubieten, dass jegliche weitere Verwendung durch Dritte technisch
möglich ist. Der seit einiger Zeit etablierte Begriff für dieses Prinzip
heißt ``Open Data''.

Das Interesse an parlamentarischen Informationen und an Anwendungen, die
diese nutzbar und auswertbar machen, ist offensichtlich vorhanden. Die
Entwickler der alternativen Ratsinformationssysteme wie Frankfurt
Gestalten\footnote{Frankfurt Gestalten:
  \url{http://www.frankfurt-gestalten.de/}}, Offenes Köln\footnote{Offenes
  Köln: \url{http://offeneskoeln.de/}} oder der
OpenRuhr:RIS-Instanzen\footnote{OpenRuhr:RIS:
  \url{http://openruhr.de/openruhrris/}} wissen zu berichten, wie viel
Interesse den Projekten gerade aus Orten entgegen gebracht wird, in
denen derartige Systeme noch nicht verfügbar sind.

Die Anwendungsmöglichkeiten für parlamentarische Informationen, wenn sie
über eine Schnittstelle schnell und einfach abgerufen werden können,
sind vielfältig. Beispiele sind:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Apps für den Abruf auf mobilen Endgeräten
\item
  Möglichkeiten zur Wiedergabe für Nutzerinnen und Nutzer mit
  Beeinträchtigung des Sehvermögens
\item
  Alternative und erweiterte Suchmöglichkeiten in Inhalten
\item
  Auswertung und Analyse von Themen, Inhalten, Sprache etc.
\item
  Benachrichtigungsfunktionen beim Erscheinen bestimmte Inhalte
\end{itemize}

Die Standardisierung dieses Zugriffs über die Grenzen einzelner Systeme
hinweg erlaubt zudem, diese Entwicklungen grenzüberschreitend zu denken.
Damit steigt nicht nur die potenzielle Nutzerschaft einzelner
Entwicklungen. Auch das Potenzial für Kooperationen zwischen
Anwendungsentwicklern wächst.

Darüber hinaus sind auch Motivationen innerhalb von Organisationen und
Körperschaften erkennbar. So sollen parlamentarische Informationssysteme
vielerorts in verschiedenste Prozesse und heterogene Systemlandschaften
integriert werden. Durch eine einheitliche Schnittstelle bieten sich
effiziente Möglichkeiten zur Integration der Daten in anderen Systeme,
wie beispielsweise Web-Portale.

Ausführlichere Beschreibungen einiger möglicher Anwendungsszenarien
finden sich im Kapitel \hyperref[nutzungsszenarien]{Nutzungsszenarien}.

\subsection{Transparenz und Beteiligung durch Open
Data}\label{transparenz-und-beteiligung-durch-open-data}

Öffentliche Stellen verfügen über vielfältige Informationen und Daten.
Seit einigen Jahren sind zivilgesellschaftliche Organisationen sowie
Politik und Verwaltung unter dem Schlagwort ``Open Data'' international
und auch in Deutschland in unterschiedlichem Maße um eine stärkere
Öffnung dieser Daten bemüht\footnote{Eine weltweite Übersicht zu
  Open-Data-Projekten bietet z.B. der Open-Data-Showroom
  \url{http://opendata-showroom.org/de/}}. Bei dem Ansatz ``Open
Data''\footnote{vgl. \url{https://de.wikipedia.org/wiki/Open_data}} geht
es darum diese Daten so bereitzustellen, dass Dritte diese einfacher
finden und weiterverwenden können. Die zehn Open-Data-Prinzipien der
Sunlight-Foundation\footnote{Ten Principles for Opening Up Open
  Government Information,
  \url{https://sunlightfoundation.com/policy/documents/ten-open-data-principles}}
beschreiben die Offenheit von Datensätzen. Wesentlich dabei sind vor
allem die einfache rechtliche und die technische Offenheit. Bei ersterer
geht es darum, dass Datensätze unter Nutzungsbestimmungen bereitgestellt
werden, die kurz und verständlich formuliert sind und mindestens
jegliche weitere Verwendung inklusive der kommerziellen erlauben unter
der Voraussetzung, dass bei der Weiterverwendung die Quelle benannt
wird. Bei der technischen Offenheit steht die Bereitstellung von
Datensätzen in möglichst maschinenlesbaren Formaten im Vordergrund. Dies
bedeutet, stärker strukturierte Datensätze sind in der Bereitstellung zu
bevorzugen. Liegen Daten innerhalb einer Organisation in einer Datenbank
vor, so bietet es sich an, diese soweit möglich über eine
Programmierschnittstelle (API) für Außenstehende bereitzustellen.

Die Erfüllung dieser rechtlichen und technischen Offenheit erlaubt es
Dritten, dies können Bürgerinnen und Bürger, Unternehmen,
Forschungseinrichtungen oder auch andere Verwaltungseinheiten sein, die
Verwaltungsdaten wesentlich unkomplizierter für eigene Vorhaben wie
Anwendungen oder Visualisierungen einzusetzen. Mit dem Ansatz offener
Verwaltungsdaten soll so erstens mehr Transparenz über Prozesse und
Entscheidungen in Politik und Verwaltung erreicht werden. Zweitens
können Dritte auf Grundlage dieser Daten leichter eigene
Geschäftsmodelle verfeinern oder neue entwickeln. Drittens wird es auch
öffentlichen Stellen selbst leichter bereits im öffentlichen Sektor
existierende Daten zu finden und weiterzuverwenden.

Wie das Prinzip offener Daten bzw. offener Verwaltungsdaten über die
Minimalprinzipien rechtlicher und technischer Offenheit hinaus am besten
erreicht werden kann erfordert im Einzelfall häufig eine Zusammenarbeit
von Datenbereitstellern und potentiellen Datennutzern. Die bloße
Bereitstellung einer OParl-konformen API wird weder die Einhaltung der
technischen Prinzipien, noch der weiteren Open-Data-Prinzipien
vollständig garantieren. Viele Bestandteile der OParl Spezifikation, die
einen weitgehend barrierearmen Zugang zu Informationen ermöglichen, sind
optional (Beispiel: Volltexte von Dokumenten über die API abrufbar
machen). Andere Bestandteile, die von Interesse wären, sind noch gar
nicht von OParl abgedeckt (Beispiel: Abstimmungsergebnisse). Grund dafür
ist, dass sich OParl in einem frühen Stadium befindet und primär am
Status Quo der parlamentarischen Informationssysteme ausgerichtet ist.
Es liegt also auch weiterhin an Verwaltung und Politik, durch einen
verantwortungsvollen Umgang mit den Systemen die maximal erreichbare
Transparenz zu bieten. Das fängt bei Dokumentenformaten an (ein PDF mit
digitalem Text weist weit weniger Barrieren auf, als ein gescannter
Brief, der ebenfalls als PDF gespeichert wurde) und hört bei der
verwendeten Sprache auf.\footnote{Weitere generelle Informationen zur
  Bereitstellung offener Verwaltungsdaten bieten bspw.

  \begin{itemize}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    Praktische Informationen: Open-Data-Handbook der Open Knowledge
    Foundation
    \url{http://opendatahandbook.org/de/how-to-open-up-data/index.html}
  \item
    Grundsätzliche Informationen: Die vom Bundesministerium des Innern
    beauftragte Studie ``Open Government Data Deutschland''
    \url{http://www.bmi.bund.de/SharedDocs/Downloads/DE/Themen/OED_Verwaltung/ModerneVerwaltung/opengovernment.pdf}
  \end{itemize}}

\subsection{Werdegang von OParl 1.0}\label{werdegang-von-oparl-1.0}

Stichpunkte:

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{16}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    und 18. November 2012: Die Open Knowledge Foundation Deutschland
    veranstaltet in den Räumen der Heinrich-Böll-Stiftung in Berlin
    einen Workshop für Entwickler von Anwendungen, die einen
    gesellschaftlichen Nutzen bringen sollen. Hier ist VITAKO, die
    Bundes-Arbeitsgemeinschaft der Kommunalen IT-Dienstleister, als
    Sponsor engagiert. Die Geschäftsführerin, Dr.~Marianne Wulff, ist
    persönlich vor Ort. Auch das Projekt Offenes Köln wird in einem
    Vortrag von Marian Steinbach präsentiert. Es kommt zum Austausch
    über die Frage, wie das Prinzip der offenen Ratsinformationen
    effektiv auf weitere Kommunen ausgeweitet werden könnte.
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{5}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    Dezember 2012: Anhörung im Landtag NRW in Düsseldorf zu einer
    Open-Data-Strategie der Landesregierung, wo Jens Klessmann und
    Marian Steinbach als Sachverständige gehört werden. Danach Gespräch
    über Möglichkeiten der Standardisierung offener
    Ratsinformationssysteme.
  \end{enumerate}
\item
  Dezember 2012: Dr.~Marianne Wulff, Jens Klessmann und Marian Steinbach
  beginnen mit der Abstimmung über einen Workshop mit Vertreterinnen und
  Vertretern von Kommunen, kommunalen IT-Dienstleistern, RIS-Anbietern
  und Zivilgesellschaft. Ziel: Die Bereitschaft zur Zusammenarbeit an
  einem gemeinsamen Standard ermitteln. Unterdessen beginnt Marian
  Steinbach mit der Formulierung eines Standard-Entwurfs als
  Diskussionsgrundlage. Der Entwurf wird von Beginn an öffentlich auf
  GitHub.com bereit gestellt.
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{16}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    April 2013: Insgesamt 30 Teilnehmer versammeln sich in Köln, um sich
    in einem ersten Treffen über Ziele und Chancen einer
    Standardisierung für offene Ratsinformationen auszutauschen. Als
    Ergebnis wird ein großes Interesse an der weiteren Zusammenarbeit
    auf Basis des vorliegenden Standardentwurfs festgestellt. Als Termin
    für die Fertigstellung der ersten Version der Spezifikation wird der
    30. Juni 2013 festgelegt. Die Initiatoren präsentieren den
    Anwesenden hier erstmals den Namen ``OParl'', der künftig als Marke
    für die Bemühungen der Gruppe stehen soll.
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{21}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    Januar 2014: Nachdem sich die verteilte Zusammenarbeit am
    Standard-Entwurf seit April 2013 als nicht zielführend erwiesen hat,
    laden Jens Klessmann und Marian Steinbach und VITAKO zu einem
    eintägigen OParl-Workshop in Bielefeld ein. Das Ziel ist, die
    Spezifikation so weit wie möglich voran zu treiben und eine gute
    Basis für die baldige Fertigstellung zu legen.
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{25}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    Januar 2014: In Düsseldorf findet ein weiterer Workshop zur Arbeit
    am Entwurf der Spezifikation statt.
  \end{enumerate}
\item
  April 2014: Verfeinerung des Vokabular-Teils durch Andreas Kuckartz,
  finanziert durch das FP7-Projekt Fusepool aus Mitteln der Europäischen
  Union.
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{5}
  \itemsep1pt\parskip0pt\parsep0pt
  \item
    Mai 2014: Beginn der Review-Phase. Interessierte sind aufgerufen,
    den vorliegenden Entwurf bis Ende Mai zu kommentieren.
  \end{enumerate}
\item
  Ende Mai 2014: Telefonkonferenz zum eingegangenen Feedback aus der
  Review-Phase
\item
  KW 23 (2. bis 6. Juni): Geplante Veröffentlichung der Spezifikation
  1.0
\end{itemize}

\subsection{Zukunft von OParl}\label{zukunft-von-oparl}

TODO: - Verfeinerung, Lücken schliessen - Erweiterung über die kommunale
Ebene hinaus (Land, Bund) - Vereinheitlichung von Kategorien
(Drucksachentypen, Arten von Gremien) - Erweiterung von Personendaten,
z.B. mit Social Media URLs - Mehr Abfragekriterien - Suchfunktionen
(Volltextsuche) - Abstimmungsverhalten und maschinenlesbare Protokolle -
Verknüpfung mit verteilten Social Media Plattformen - Schreibender
Zugriff. Auch dazu muss das Rad nicht neu erfunden werden. Bestehende
bzw. in Entwicklung befindliche Spezifikationen und Techniken aus der
Linked Data-Welt können verwendet werden. Dazu gehören insbesondere die
Linked Data Platform des W3C und Hydra.

\subsubsection{Globalisierung}\label{globalisierung}

Es gibt in sehr vielen Ländern Gebietskörperschaften mit politischen
Gremien, deren Prozesse ähnlich strukturiert sind wie diejenigen in
Deutschland. Auch dort besteht Bedarf an standardisierten Vokabularen
zur Veröffentlichung parlamentarischer Informationen. Deshalb sind -
teilweise noch vor OParl - auch weitere entsprechende Initiativen
entstanden. Eine enge Zusammenarbeit mit diesen Initiativen mit dem Ziel
der Wiederverwendung von Arbeitsergebnissen wird deshalb angestrebt.
Auch aus diesem Grund wurde bereits in OParl 1.0 die Möglichkeit der
Verwendung mit anderen Sprachen und Mehrsprachigkeit eingebaut.

TODO: Popolo, UK, KB Niederlande

\subsection{Nomenklatur der Spezifikation und
Satzkonventionen}\label{nomenklatur-der-spezifikation-und-satzkonventionen}

\subsubsection{Zwingende, empfohlene und optionale
Anforderungen}\label{mussux5fsollux5fdarf}

Dieses Spezifikationsdokument nutzt die Modalverben müssen, können und
sollen in einer Art und Weise, die bestimmte Anforderungen möglichst
unmissverständlich in drei verschiedene Abstufung einteilen lässt. Um
ihre normative Bedeutung zu unterstreichen, werden diese Wörter
grundsätzlich in Großbuchstaben gesetzt.

Diese Konvention ist angelehnt an die Definitionen der Begriffe MUST,
SHOULD und MAY (bzw. MUST NOT, SHOULD NOT und MAY NOT) aus
RFC2119.\footnote{RFC2119 \url{http://tools.ietf.org/html/rfc2119}}

Die Bedeutung im Einzelnen:

\begin{description}
\item[MÜSSEN/MUSS bzw. ZWINGEND:]
Die Erfüllung einer Anforderung, die explizit vom Modalverb MÜSSEN bzw.
MUSS Gebrauch macht, ist zwingend erforderlich.

Die Entsprechung in RFC2119 lautet ``MUST'', ``REQUIRED'' oder
``SHALL''.
\item[NICHT DÜRFEN/DARF NICHT:]
Dieses Stichwort kennzeichnet ein absolutes Verbot.

Die Entsprechung in RFC2119 lautet ``MUST NOT'' oder ``SHALL NOT''.
\item[SOLLEN/SOLL bzw. EMPFOHLEN:]
Mit dem Wort SOLLEN bzw. SOLL sind empfohlene Anforderungen
gekennzeichnet, die von jeder Implementierung erfüllt werden sollen.
Eine Nichterfüllung ist als Nachteil zu verstehen, beispielsweise weil
die Nutzerfreundlichkeit dadurch Einbußen erleidet, und sollte daher
sorgfältig abgewogen werden.

Die Entsprechung in RFC2119 lautet ``SHOULD'' oder ``RECOMMENDED''.
\item[NICHT SOLLEN/SOLL NICHT bzw. NICHT EMPFOHLEN:]
Diese Formulierung wird verwendet, wenn unter gewissen Umständen Gründe
existieren können, die ein bestimmtes Verhalten akzeptabel oder sogar
nützlich erscheinen lassen, jedoch die Auswirkung des Verhaltens vor
einer entsprechenden Implementierung verstanden und abgewogen werden
sollen.

Die Entsprechung in RFC2119 lautet ``SHOULD NOT'' oder ``NOT
RECOMMENDED''.
\item[DÜRFEN/DARF bzw. OPTIONAL:]
Mit dem Wort DÜRFEN bzw. DARF oder OPTIONAL sind optionale Bestandteile
gekennzeichnet. Ein Anbieter könnte sich entscheiden, den entsprechenden
Bestandteil aufgrund besonderer Kundenanforderungen zu unterstützen,
während andere diesen Bestandteil ignorieren könnten. Implementierer von
Clients oder Servern DÜRFEN in solchen Fällen NICHT davon ausgehen, dass
der jeweilige Kommunikationspartner den entsprechenden, optionalen
Anteil unterstützt.

Die Entsprechung in RFC2119 lautet ``MAY'' oder ``OPTIONAL''.
\end{description}

\subsubsection{Geschlechterspezifische
Begrifflichkeiten}\label{geschlechterspezifische-begrifflichkeiten}

Um bei Begriffen wie Nutzer, Anwender, Betreiber etc. die sonst übliche
Dominanz der männlichen Variante zu vermeiden, werden in diesem Dokument
männliche oder weibliche Varianten gemischt. Es wird also beispielsweise
mal von einer Nutzerin gesprochen und mal von einem Nutzer. Gemeint sind
selbstverständlich in allen Fällen immer weibliche wie auch männliche
Personen.

\subsubsection{Codebeispiele}\label{codebeispiele}

Die in diesem Dokument aufgeführten Codebeispiele dienen der
Veranschaulichung der beschriebenen Prinzipien. Es handelt sich in der
Regel um frei erfundene Daten.

Codebeispiele erheben insbesondere bei JSON-Code nicht den Anspruch auf
hundertprozentige syntaktische Korrektheit. Es kann in Einzelfällen aus
Gründen der besseren Lesbarkeit zur Verwendung von Umlauten etc. kommen,
die in JSON nicht erlaubt wären.

\subsection{Initiatoren}\label{initiatoren}

TODO

\subsection{Unterstützer}\label{unterstuxfctzer}

TODO

\subsection{Autoren}\label{autoren}

An diesem Dokument haben mitgewirkt:

Felix Ebert, Jan Erhardt, Jens Klessmann, Andreas Kuckartz, Babett
Schalitz, Ralph Sternberg, Marian Steinbach, Bernd Thiem, Thomas
Tursics, Jakob Voss

\section{Architektur}\label{architektur}

In diesem Abschnitt werden grundlegenden Konzepte, die von OParl
abgedeckt werden, erläutert. Die Erläuterungen sind nicht im engeren
Sinne Teil der Spezifikation, sondern dienen dazu, die
Anwendungsbereiche von OParl und die Funktionen einer OParl-konformen
API verständlicher und konkreter beschreiben zu können.

Da die Architektur auf der generellen Architektur des World Wide Web
(WWW) aufbaut, sind einzelne Konzepte direkt den Begriffen der
Architekturbeschreibung des W3-Konsortiums entlehnt.\footnote{Architecture
  of the World Wide Web, Volume One. \url{http://www.w3.org/TR/webarch/}}

\subsection{Überblick}\label{uxfcberblick}

\begin{figure}[htbp]
\centering
\includegraphics{images/architektur-ueberblick.png}
\caption{Architekturdiagramm}
\end{figure}

\subsection{Parlamentarisches
Informationssystem}\label{parlamentarischesux5finfosystem}

Parlamentarische Informationssysteme sind Software-Systeme, die von
verschiedensten Körperschaften eingesetzt werden, um die Zusammenarbeit
von Parlamenten zu organisieren, zu dokumentieren und öffentlich
nachvollziehbar zu machen. Zu den Körperschaften können beispielsweise
Kommunen, Landkreise, Regierungsbezirke und Zweckverbänden gehören.

Diese Systeme unterstützen in der Regel mehrere der folgenden
Funktionen:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Das Erzeugen, Bearbeiten und Darstellen von Sitzungen und deren
  Tagesordnung
\item
  Das Erzeugen und Abrufen von Sitzungsprotokollen
\item
  Das Erzeugen, Bearbeiten und Anzeigen von Drucksachen
\item
  Das Erzeugen, Bearbeiten und Anzeigen von Gremien und deren
  Mitgliedern
\end{itemize}

Funktionen, die die Eingabe und Bearbeitung von Daten betreffen, sind in
der Regel einem geschlossenen Nutzerkreis vorbehalten. Die Darstellung
und der Abruf von Informationen und Dokumenten hingegen ist in vielen
Fällen für die Öffentlichkeit freigegeben.

Die OParl Spezifikation beschreibt eine Schnittstelle, die den
maschinellen, lesenden Zugriff auf derartige Informationen ermöglicht.

\hyperdef{}{server}{\subsection{Server}\label{server}}

Der Server im Sinne dieser Spezifikation ist ein Software-Dienst, der
auf einem mit dem Internet verbundenen Rechnersystem läuft. Dieser
Dienst ist eine spezielle Form eines WWW- bzw. HTTP(S)-Servers.
Entsprechend beantwortet der Server HTTP-Anfragen, die an ihn auf einem
bestimmten TCP-Port gestellt werden.

Der Server ist als Bestandteil des parlamentarischen Informationssystems
zu verstehen. Der Betrieb des Servers steht damit üblicherweise in der
Verantwortung desjenigen, der das parlamentarischen Informationssystem
betreibt.

Von einem Server, der die OParl-Spezifikation erfüllt, wird erwartet,
dass er bestimmte parlamentarische Informationen in einem bestimmten
Format zur Verfügung stellt und auf bestimmte Anfragen von so genannten
Clients über die OParl API entsprechend dieser Spezifikation reagiert.

\subsection{API}\label{api}

Der Begriff API steht in diesem Dokument für die
Webservice-Schnittstelle, die der Server anbietet. Die Schnittstelle
basiert auf dem HTTP-Protokoll. Mittels HTTPS ist wahlweise auch die
verschlüsselte Nutzung der API möglich, sofern Server dies unterstützt.

Die API steht im Mittelpunkt dieser Spezifikation. Server und Clients
sind als Kommunikationspartner zu verstehen, die über das Internet als
Kommunikationskanal mit einander kommunizieren können. Die
API-Spezifikation stellt dabei die nötige Grammatik und das Vokabular
bereit, anhand dessen eine sinnvolle Kommunikation erfolgen kann.

\hyperdef{}{client}{\subsection{Client}\label{client}}

Der Begriff ``Client'' steht für eine Software, die über die OParl API
mit dem Server kommuniziert. Da die API auf dem HTTP-Protokoll aufbaut,
handelt es sich bei dem Client um eine spezielle Form eines
HTTP-Clients.

\hyperdef{}{cache}{\subsection{Cache}\label{cache}}

Ein Cache ist ein Speicher, der einem Client dazu dienen kann, von einem
Server abgerufene Informationen längerfristig vorzuhalten. Dies kann
beispielsweise dazu dienen, mehrfache Anfragen der selben Informationen
zu vermeiden, wodurch sowohl Ressourcen auf Seite des Servers geschohnt
als auch die Nutzung von Netzwerkbandbreite reduziert werden kann. Die
Nutzung eines Cache kann auch zur Verbesserung der Nutzerfreundlichkeit
eines Clients beitragen, indem Wartezeiten zur Bereitstellung einer
Ressource verkürzt werden.

\subsection{Nutzerin oder Nutzer}\label{nutzerin}

Mit einer Nutzerin oder einem Nutzer ist in diesem Fall eine natürliche
Person gemeint, die mittels eines OParl-Clients auf parlamentarische
Informationen zugreift.

\subsection{Objekt}\label{objekt}

Der Server beantwortet Anfragen eines Clients im Regelfall, indem
bestimmte Objekte ausgegeben werden. Objekte sind im Fall einer
OParl-konformen API JSON-Objekte, die das Schema einhalten, das in der
vorliegenden Spezifikation beaschrieben wird. Antworten des Servers
können einzelne Objekte, Listen von Objekten oder Listen von URLs von
Objekten enthalten.

\hyperdef{}{nutzungsszenarien}{\section{Nutzungsszenarien}\label{nutzungsszenarien}}

Die nachfolgenden Nutzungsszenarien dienen dazu, die Architektur und die
Anwendungsmöglichkeiten anhand konkreter Beispiele zu verdeutlichen. Sie
erheben keinen Anspruch auf Vollständigkeit.

\subsection{Szenario 1: Mobile
Client-Anwendung}\label{szenarioux5fmobileux5fclient}

Eine \hyperref[client]{Client}-Anwendung für mobile Endgeräte wie
Smartphones und Tablets, nachfolgend ``App'' genannt, könnte das Ziel
verfolgen, Nutzern unterwegs sowie abseits vom Desktop-PC auf die
Gegebenheiten mobiler Endgeräte optimierten Lesezugriff auf Dokumente
aus parlamentarischen Informationssystemen zu bieten. Die möglichen
Kontexte und Nutzungsmotivationen sind vielfältig:

\begin{itemize}
\item
  Teilnehmer einer Sitzung greifen während der Sitzung auf die Einladung
  dieser Sitzung und die zur Tagesordnung der Sitzung gehörenden
  Drucksachen zu, außerdem auf die Protokolle vorheriger Sitzungen.
\item
  Eine Redakteurin der Lokalpresse geht unterwegs die Themen der
  nächsten Sitzungen bestimmter Gremien, für die sie sich besonders
  interessiert, durch.
\item
  Eine Gruppe von Studierenden erkundet zusammen mit ihrem Dozenten die
  lokalpolitischen Aktivitäten des Viertels rund um ihre Hochschule.
  Dazu nutzen sie die GPS-Lokalisierung ihrer Smartphones in Verbindung
  mit den Geodaten, die an vielen Drucksachen des lokalen RIS zu finden
  sind. Direkt vor Ort an einer Baustelle öffnen sie Beschlüsse, Pläne
  und Eingaben aus dem Planfeststellungsverfahren, die dieser Baustelle
  voran gegangen sind.
\end{itemize}

Zur Realisierung derartiger Szenarien können die Fähigkeiten von
OParl-kompatiblen Servern mit den besonderen Eigenschaften der mobilen
Endgeräte verknüpft werden.

Smartphones und Tablets verfügen beispielsweise, je nach Aufenthaltsort,
über sehr unterschiedlich gute Internetanbindung. In einem Büro oder
zuhause können Nutzer über ein WLAN Daten mit hoher Bandbreite
austauschen, in Mobilfunknetzen vor allem außerhalb der Ballungsgebiete
jedoch sinken die Bandbreiten deutlich. Einige Tablets werden sogar ohne
Möglichkeit zur Mobilfunk-Datenübertragung genutzt. In solchen Fällen
kann ein \hyperref[cache]{Cache} auf dem Endgerät dazu dienen, Inhalte
vorzuhalten, die dann auch bei langsamer oder fehlender
Internetverbindung zur Verfügung stehen. Sobald dann wieder eine
Verbindung mit hoher Bandbreite bereit steht, kann die App im
Hintergrund, entweder über die \hyperref[feeds]{Feeds} der OParl API
oder über den einzelnen Abruf von Objekten, die gecachten Inhalte
aktualisieren.

Eine Stärke eines mobilen Clients ist auch die Möglichkeit der
Personalisierung, also der Anpassung auf die Bedürfnisse und Interessen
der Nutzerin oder des Nutzers. Es wäre beispielsweise denkbar, dass eine
Nutzerin die parlamentarischen Informationssysteme, für die sie sich
interessiert, dauerhaft in der App einrichtet und eine Favoritenliste
der Gremien, die ihre bevorzugten Themengebiete behandeln, hinterlegt.
Die App könnte aufgrund dieser Favoritenliste eigenständig über die API
nach neuen Sitzungsterminen, Tagesordnungspunkten, Drucksachen und
Dokumente suchen. Taucht dabei ein neues Objekt auf, wird die Nutzerin
darüber benachrichtigt. Sie kann dann beispielsweise entscheiden,
Dokumente direkt zu öffnen oder für den späteren Offline-Zugriff zu
speichern.

Einem derartigen Szenario kommt das Graph-orientierte Datenmodell der
OParl API entgegen. Ausgehend von einer Sitzung eines bestimmten
Gremiums beispielsweise ist es damit einfach möglich, die in Verbindung
stehenden Mitglieder des Gremiums, Teilnehmer der Sitzung,
Tagesordnungspunkte der Sitzung oder Drucksachen zu den
Tagesordnungspunkten und letztlich Dokumente zu Drucksachen und Sitzung
abzurufen.

Für die Nutzer einer mobilen Client-Anwendung könnte es sich als
besonders hilfreich erweisen, wenn Dokumente auf dem Server in
verschiedenen Formaten zur Verfügung gestellt werden. Denn nicht jedes
Endgerät mit kleinem Bildaschirm bietet eine nutzerfreundliche
Möglichkeit, beispielsweise Dokumente im weit verbreiteten PDF-Format
darzustellen. Hier könnte schon der Entwickler der mobilen App
Mechanismen vorsehen, die, sofern vorhanden, besser geeignete Formate
wie z.B. HTML abrufen.

Neben dem kleinen Display kann für einige mobile Endgeräte auch die im
Vergleich zu einem zeitgemäßen Desktop-PC geringere CPU-Leistung eine
Einschränkung darstellen. Solchen Geräten kommt es besonders entgegen,
wenn der Server zu allen Dokumenten auch den reinen Textinhalt abrufbar
macht, der dann beispielsweise für eine Volltextsuche auf dem Endgerät
indexiert werden kann. So wiederum kann auf dem Client eine Suchfunktion
realisiert werden, welche die OParl-API selbst nicht zur Verfügung
stellt.

Eine solche Suchfunktion kann auch über die reine Volltxtsuche und über
die Suche mittels Text- oder Spracheingabe hinaus gehen. Denn ein Client
könnte von einem \hyperref[server]{Server}-System, das Drucksachen mit
Geoinformationen anbietet, diese abrufen und räumlich indexieren. Anhand
der Position des Geräts, die mittels GPS genau bestimmt werden kann,
könnte so der lokale Cache nach Objekten in der Umgebung durchsucht
werden. Das Ergebnis könnte auf einer Karte dargestellt oder in einer
Ergebnisliste angezeigt werden, die nach Distanz zum Objekt sortiert
werden könnte.

\subsection{Szenario 2: Integration in
Web-Portal}\label{szenarioux5fwebux5fportal}

Portallösungen bieten den Betreibern die Möglichkeit, Inhalte auf einer
einheitlichen Weboberfläche zu veröffentlichen, die aus verschiedensten
Quellen und Plattformen bereitgestellt werden. Inhalte werden dabei
häufig als sogenannte ``Portlets'' in Seiten integriert.

Ein Beispiel für die Realisierung eines solchen Integrations-Ansatzes
wäre eine Kommune, die für ihre allgemeine Website eine Portallösung
einsezt und hier auch Inhalte aus dem kommunalen Ratsinforamtionssystem
einspeisen und darstellen möchte. Die Inhalte könnten als Module mit
anderen Inhalten, beispielsweise aus einem Web Content Management System
(WCMS) gemeinsam auf einer Seite dargestellt werden.

Eine Seite über den Gemeinderat beispielsweise könnte durch ein Portlet
ergänzt werden, in dem die nächsten Sitzungstermine des Gemeinderats
aufgelistet werden. Eine Pressemeldung über ein bestimmtes Bauvorhaben,
in dem ein Beschluss erwähnt wird, könnte direkt ein Portlet mit einer
Detailsansicht der entsprechenden Drucksache einbinden.

Die Portlets, die von einem Portalserver zur Verfügung gestellt werden,
stellen damit im Sinne der OParl-Architektur Clients dar. Je nach
Performanz und Anforderungen im Einzelfall könnten diese Client mit
eigenen Caches arbeiten oder aber direkt auf den jeweiligen OParl-Server
zugreifen.

Vorteil einer solchen Einbindung, also der kontextbezogenen Darstellung
von parlamentarischen Informationen im Gegensatz zu einem monolitischen
parlamentarischen Informationssystem könnte sein, dass Nutzer in einer
gewohnten und akzeptierten Oberfläche jeweils die relevanten
Informationen erhalten, ohne sich an die ungewohnte Umgebung eines
parlamentarischen Informationssystems gewöhnen zu müssen.

Die denkbaren Szenarien einer solchen Integration beschränken sich nicht
auf anonyme Nutzer von öffentlichen Websites. In einem authentifizierten
Umfeld wie beispielsweise einem kommunalen Intranet lassen sich weitere
Arten von Portlets und damit Mehrwerte für die Nutzer realisieren. So
könnte beispielswiese eine eingeloggte Nutzerin eine personalisierte
Liste der Sitzungstermine, zu der sie eingeladen ist, angezeigt
bekommen.

Die Standardisierung durch OParl sorgt im Rahmen der Portal-Szenarios
dazu, dass Portlets, die für ein bestimmtes parlamentarisches
Informationssystem entwickelt wurden, leichter auf andere Systeme - auch
verschiedener Anbieter - ausgeweitet werden könne, sofern diese
ebenfalls OParl-konform sind. Dies ermöglicht es beispielsweise
verschiedenen Kommunen, ihre bei der Entwicklung von Portlets zusammen
zu arbeiten und ihre Ergebnisse auszutauschen. Denkbar sind auch
Portlet-Entwicklungen als Open-Source-Projekte.

\subsection{Szenario 3: Meta-Suche}\label{szenarioux5fmetaux5fsuche}

Die Ermöglichung einer nutzerfreundliche Suche, die damit verbundene
Indexierung von verschiedensten Dokumenteninhalten und die
Kategorisierung von Inhalten kann eine sowohl konzeptionell als auch
technisch Anspruchsvolle Aufgabe sein. Auch im Hinblick auf die
Server-Ressourcen sind damit nennenswerte Aufwände verbunden.
Andererseits liegt auf der Hand, dass die effiziente Arbeit mit großen
Informationsmengen nach intelligenten Möglichkeiten der Einschränkung
von Informationsmengen auf das jeweils im Anwendungsfall relevante
Treffer verlangt. Beispiel wäre ein Nutzer, der sich für alle Dokumente
zum Thema Kreisverkehre interessiert. Die OParl-Spezifikation sieht
keine Methoden vor, wie die Ausgabe des Servers schon bei der Anfrage
von Dokumenten derart beschränkt werden können. Damit ist die
Realisation von Such- und Filtermechanismen im OParl-Umfeld eine
Aufgabe, die bis auf weiteres lediglich auf Seite der Clients angeboten
werden kann.

Angelehnt an das seit den Anfängen des Web etablierte Modell der
externen Web-Suchmaschine sind spezielle Suchmaschinen für
OParl-konforme parlamentarische Informationssysteme denkbar. Diese
können auch von dritten, beispielsweise zivilgesellschaftlichen
Organisationen betrieben werden, die nicht Betreiber des Server-Systems
sind. Solche Plattformen treten gegenüber dem OParl-Server als Client
auf und rufen bestimmte oder sämtliche Informationen, die das System
bereit hält, ab. Vorbild sind die Robots oder Spider von
Web-Suchmaschinen. Die abgerufenen Informationen können dann indexiert
und je nach Anforderungen für eine gezielte Suche weiterverarbeitet
werden.

Dieses Modell ist grundsätzlich nicht auf einzelne OParl-Server oder
einzelne Körperschaften beschränkt. Vielmehr könnte der Betreiber einer
solchen Suchmaschine sich entschließen, die Informationen aus mehreren
OParl-konformen Systemen zu indexieren. Nutzern könnte entweder
angeboten werden, die Suche auf bestimmte Körperschaften, beispielsweise
auf eine bestimmte Kommune, zu beschränken, oder ohne Beschränkung über
alle angebotenen Körperschaften zu suchen.\footnote{Daher der Begriff
  Meta-Suche}

Daraus ergeben sich vielfältige Anwendungsszenarien, die hier
beispielhaft beschrieben werden:

\begin{itemize}
\item
  Eine Mitarbeiterin eines regionalen Zweckverbands hat die Aufgabe,
  Ratsvorgänge in den Mitgliedskommunen mit Relevanz für die Aufgaben
  des Verbandes im Blick zu behalten. Sie nutzt dafür ein regionales
  Internetportal, in dem die Inhalte der OParl-konformen
  parlamentarischen Informationssysteme der Mitgliedskommunen
  durchsuchbar sind. Um die Suche zu vereinfachen, hat sie einzelne
  Schlagwörter abonniert, zu denen sie automatisch über neue Vorgänge
  informiert wird.
\item
  Ein Einwohner eines Ballungsraums will sich über aktuelle Vorgänge
  rund um seine Mietwohnung in Stadt A, sein Gartengrundstück in einer
  Kleingartenkolonie in der Nachbarstadt B und seinen Arbeitsplatz in
  Stadt C auf dem laufenden halten. Dazu abonniert er im regionalen
  Meta-Such-Portal parlamentarische Vorgänge mit räumlichem Bezug zu
  diesen drei Standorten und wird so automatisch über neue Aktivitäten
  informiert, die Relevanz für ihn haben könnten.
\item
  Eine Landespolitikerin möchte einfacher über die politischen
  Aktivitäten ihrer Parteikollegen in den Rathäusern des Bundeslandes
  informiert werden. Dazu nutzt sie ein Internetportal, in dem die
  Informationen aus den parlamentarischen Informationssystemen mit
  OParl-Schnittstelle im Land zusammengeführt werden. Dort hat sie sich
  Abonnements zu einzelnen Lokalpolitikern eingerichtet und wird
  automatisch über ihre Teilnahme an Gremiensitzungen und die Themen
  dieser Sitzungen informiert.
\end{itemize}

\subsection{Szenario 4: Forschungsprojekt Themen- und
Sprachanalyse}\label{szenarioux5fforschung}

In einem Forschungsprojekt sollen Pro- und Contra-Argumentationen bei
Ratsdiskussionen zum Ausbau von Stromtrassen identifiziert werden. Über
die Analyse in mehreren Gebietskörperschaften sollen die gefundenen
Argumentationen zu wiederkehrenden Mustern verdichtet und festgestellt
werden, wie diese Muster regional abweichen.

Dazu nutzen die Mitarbeitenden des Forschungsprojektes die
OParl-Schnittstellen der parlamentarischen Informationssysteme aller
Kommunen entlang der geplanten überregionalen Trassen. Über diese
einheitlichen Schnittstellen können sie insbesondere die relevanten
Wortprotokolle abrufen und zum Beispiel in einem Werkzeug zur
qualitativen Datenanalyse lokal verarbeiten. Im Ergebnis ließe sich auch
erkennen, wie ähnlich oder wie unterschiedlich die Argumente in
rhetorischer Hinsicht vorgetragen werden.

\section{Prinzipien und Funktionen des Vokabulars und der
API}\label{prinzipien-und-funktionen-des-vokabulars-und-der-api}

TODO

(In diesem Kapitel werden die Zugriffsmethoden der OParl-konformen
Schnittstelle beschrieben. Hierzu gehören alle chapter-Dateien, deren
Nummerierung mit der Ziffer 6 beginnnt.)

Stichpunkte:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Optional gzip Encoding und andere Kodierungen, wenn Client und Server
  dies unterstützen
\item
  Authentifizierung wird nicht benötigt.
\end{itemize}

\hyperdef{}{designprinzipien}{\subsection{Designprinzipien}\label{designprinzipien}}

\subsubsection{Aufbauen auf gängiger
Praxis}\label{aufbauen-auf-guxe4ngiger-praxis}

Grundlage für die Erarbeitung der OParl-Spezifikation in der
vorliegenden Version ist eine Analyse von aktuell (2012 bis 2014) in
Deutschland etablierten parlamentarischen Informationssystemen und ihrer
Nutzung. Erklärtes Ziel für diese erste Version ist es, mit möglichst
geringem Entwicklungsaufwand auf Seite der Softwareanbieter und
Migrationsaufwand auf Seite der Betreiber zu einer Bereitstellung von
parlamentarischen Informationen über eine OParl API zu gelangen. Hierbei
war es von entscheidender Bedeutung, dass sich die Informationsmodelle
der einschlägigen Softwareprodukte stark ähneln. Für die
OParl-Spezifikation wurde sozusagen ein Datenmodell als ``gemeinsamer
Nenner'' auf Basis der gängigen Praxis beschrieben.

\subsubsection{Verbesserung gegenüber dem Status Quo wo
möglich}\label{verbesserung-gegenuxfcber-dem-status-quo-wo-muxf6glich}

Dort, wo es dem Ziel der einfachen Implementierbarkeit und der einfachen
Migration nicht im Weg steht, erlauben sich die Autoren dieser
Spezifikation, auch Funktionen aufzunehmen, die noch nicht als gängige
Praxis im Bereich der Ratsinformationssysteme bezeichnet werden können
oder welche nur von einzelnen Systemen unterstützt werden. Solche
Funktionen sind dann so integriert, dass sie nicht als zwingende
Anforderung gelten.

Ein Beispiel für eine derartige Funktion ist die Abbildung von Geodaten
im Kontext von Drucksachen (\texttt{oparl:Paper}), um beispielsweise die
Lage eines Bauvorhabens, das in einer Beschlussvorlage behandelt wird,
zu beschreiben. Zwar ist den Autoren nur ein einziges parlamentarisches
Informationssystem\footnote{Das Ratsinformationssystem BoRis, eine
  Eigenentwicklung der Stadt Bonn
  \url{http://www2.bonn.de/bo_ris/ris_sql/agm_index.asp}} in Deutschland
bekannt, das Geoinformationen - und zwar in Form von Punktdaten, also
einer Kombination aus Längen- und Breitengradangaben - mit Dokumenten
verknüpft. Der Vorteil dieser Funktion ist jedoch anhand zahlreicher
Anwendungsszenarien belegbar. Somit ist der vorliegenden
OParl-Spezifikation die Möglichkeit beschrieben, Geodaten-Objekte
einzubetten.

Die Angabe eines einzelnen Punktes ist dabei nur ein einfacher
Sonderfall. Die Spezifikation erlaubt auch die Kodierung von mehreren
Objekten, die Punkte, Linien oder Polygone repräsentieren können. Vgl.
dazu \texttt{oparl:Location}.

Auch die Ausgabe einer Nur-Text-Version im Kontext des Dokuments
(\texttt{oparl:Document}), das den barrierefreien Zugriff auf Inhalte
oder Indexierung für Volltextsuchfunktionen deutlich vereinfacht, ist
eine Möglichkeit, die in der gängigen Praxis noch nicht zu finden ist.
Ebenso die Möglichkeit, Beziehungen zwischen einzelnen Dokumenten
herzustellen, um so von einem Dokument zu anderen Dokumenten mit
identischem Inhalt, aber in anderen technischen Formaten zu verweisen,
etwa von einer ODT-Datei zu einer PDF-Version.

\hyperdef{}{restful}{\subsubsection{RESTful}\label{restful}}

Die Bezeichnung ``REST'' (für ``Representational State Transfer'') wurde
im Jahr 2000 von Roy Fielding eingeführt\footnote{Fielding, Roy:
  Architectural Styles and the Design of Network-based Software
  Architectures,
  \url{http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm}}. Die
Definition von Fielding reicht sehr weit und berührt viele Details. In
der Praxis wird der Begriff häufig genutzt, um eine Schnittstelle zu
beschreiben,

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  die auf WWW-Technologie aufbaut, insbesondere dem HTTP-Protokoll
\item
  die darauf beruht, dass mittels URL einzelne Ressourcen oder Zustände
  vom Client abgerufen werden können.
\item
  die zustandslos ist. Das bedeutet, die Anfrage eines Clients an den
  Server enthält alle Informationen, die notwendig sind, um die Anfrage
  zu verarbeiten. Auf dem Server wird kein Speicher zur Verfügung
  gestellt, um beispielsweise den Zustand einer Session zu speichern.
\end{itemize}

Diese Prinzipien macht sich auch OParl zunutze. Damit gilt prinzipiell,
dass eine OParl-konforme Server-Schnittstelle auch als ``RESTful''
gelten darf.

\subsubsection{Selbstbeschreibungsfähigkeit}\label{selbstbeschreibungsfuxe4higkeit}

Ausgaben des Servers sollten so beschaffen sein, dass sie für
menschliche NutzerInnen weitgehend selbsterklärend sein können. Dies
betrifft besonders die Benennung von Objekten und Objekteigenschaften.

Um den Kreis der Entwicklerinnen und Entwickler, die mit einer OParl-API
arbeiten können, nicht unnötig einzuschränken, wird hierbei
grundsätzlich auf englischsprachige Begrifflichkeiten gesetzt.

\hyperdef{}{erweiterbarkeit}{\subsubsection{Erweiterbarkeit}\label{erweiterbarkeit}}

Implementierer sollen in der Lage sein, über eine OParl-konforme
Schnittstelle auch solche Informationen auszugeben, die nicht im Rahmen
des OParl-Schemas abgebildet werden können. Dies bedeutet zum einen,
dass ein System Objekttypen unterstützen und ausliefern darf, die nicht
(oder noch nicht) im OParl Schema beschrieben sind. Das bedeutet auch,
dass Objekttypen so um eigene Eigenschaften erweitert werden können, die
nicht im OParl Schema beschrieben sind.

Ein weiterer Aspekt betrifft die Abwärtskompatiblität, also die
Kompatibilität von OParl-Clients mit zukünftigen Schnittstellen. So
können beispielsweise zukünftige Erweiterungen des OParl Schemas, etwa
um neue Objekttypen, genau so durchgeführt werden wie die Erweiterungen
um herstellerspezifische Objekttypen. Ein Client muss diese Anteile
nicht auswerten, sofern sie nicht für die Aufgabe des Clients relevant
sind.

Diese angestrebte Erweiterbarkeit wird durch weitgehend durch das
\hyperref[jsonld]{JSON-LD-Format} gewährleistet. Es erlaubt die
Verflechtung von Objekttypen-Definitionen aus verschiedenen Schemata.

\subsubsection{Browseability/Verlinkung}\label{browseabilityux5fverlinkung}

Klassische Webservice-Schnittstellen erfordern von den Entwicklern
vollständige Kenntnis der angebotenen Einstiegspunkte und
Zugriffsmethoden, gepaart mit sämtlichen unterstützten URL-Parametern,
um den vollen Funktionsumfang der Schnittstelle ausschöpfen zu können.

Parlamentarische Informationen sind weitgehend graphartig aufgebaut. Das
bedeutet, dass Objekte häufig mit einer Vielzahl anderer Objekte
verknüpft sind. So ist eine Person beispielsweise Mitglied in mehreren
Gremien, das Gremium hat mehrere Sitzungen abgehalten und zu diesen
Sitzungen gibt es jeweils zahlreiche Drucksachen, die ihrerseits wieder
zahlreiche Dokumente enthalten.

Eine OParl-Schnittstelle gibt jedem einzelnen Objekt eine eindeutige
Adresse, eine URL. Somit kann die Schnittstelle den Verweis von einem
Objekt, beispielsweise einem Gremium, auf ein anderes Objekt, etwa ein
Mitglied des Gremiums, dadurch ausgeben, dass im Kontext des Gremiums
die URL des Mitglieds ausgeben wird. Der Client kann somit ausgehend von
einem bestimmten Objekt die anderen Objekte im System finden, indem er
einfach den angebotenen URLs folgt. Dieses Prinzip wird auch ``Follow
Your Nose'' genannt\footnote{\url{http://patterns.dataincubator.org/book/follow-your-nose.html}}.

\hyperdef{}{linkedux5fdata}{\subsubsection{Linked
Data}\label{linkedux5fdata}}

Der Begriff ``Linked Data'' steht für die Beschreibung von Daten in
einer Form, die diese über ihren ursprünglichen Kontext hinaus
verständlich macht.\footnote{vgl. Bundesministerium des Innern
  (Herausg.): Open Government Data Deutschland, Seite 433f., 2012
  \url{http://www.bmi.bund.de/SharedDocs/Downloads/DE/Themen/OED_Verwaltung/ModerneVerwaltung/opengovernment.pdf}}

Kern von Linked Data ist die Möglichkeit, alle Bestandteile von Daten in
Form von Tripeln zu beschreiben, das sind dreiteilige
Informationseinheiten aus einem Subjekt, einem Prädikat und einem
Objekt. Alle drei Bestandteile können in Form global eindeutiger
``Uniform Resource Identifier'' (URI) abgebildet werden.

Nach dem Linked-Data-Prinzip könnte beispielsweise der Vorname einer
Person mit dem folgenden Tripel beschrieben werden:

\begin{verbatim}
Subjekt: http://dbpedia.org/resource/John_Doe_(musician)
Prädikat: http://xmlns.com/foaf/0.1/givenName
Objekt: http://dbpedia.org/resource/John_(given_name)
\end{verbatim}

Hierbei macht man von der Tatsache Gebrauch, dass das Subjekt, also die
Person, um die es geht, bereits mittels ihrer URI eindeutig
identifiziert werden kann und dass bestenfalls unter dieser URI weitere
Informationen zu der Person abrufbar sind.\footnote{Ein Aufruf der URL
  \url{http://dbpedia.org/resource/John_Doe_(musician)} im herkömmlichen
  Web-Browser führt zu einer Weiterleitung auf die URL
  \url{http://dbpedia.org/page/John_Doe_(musician)}. Siehe dazu auch der
  Abschnitt \hyperref[contentux5fnegotiation]{Content Negotiation}} Auch
für das Prädikat ``Person hat den Vornamen'' liegt bereits eine
Beschreibung in einem gebräuchlichen Vokabular vor, auf das hier
verwiesen werden kann. Und schließlich kann sogar der eigentliche
Vorname in Form einer URI abgebildet werden, nämlich als Verweis auf
eine umfangreiche Beschreibung dieses Namens.

Das \textbf{Ziel} von OParl ist es, mit der vorliegenden Version 1.0 der
Spezifikation, die Nutzung solcher allgemeingültigen Vokabulare für die
Veröffentlichung von parlamentarischen Informationen zu begünstigen und
die automatisierte Verarbeitung und Verknüpfung von Informationen, auch
über die Grenzen verschiedener Informationssysteme hinweg, zu
erleichtern.

Beispiele, wo dies sinnvoll ist, sind in der Praxis leicht zu finden. So
finden sich beispielsweise in vielen lokalen Parlamenten immer wieder
Fraktionen der selben Parteien, beispielsweise CDU und SPD. Mittels
Linked Data wäre es möglich, jede dieser Fraktionen mit einer externen
URL zu verknüpfen\footnote{beispielsweise
  \url{http://dbpedia.org/resource/Christian_Democratic_Union_(Germany)}
  und
  \url{http://dbpedia.org/resource/Social_Democratic_Party_of_Germany}}
und somit erkennbar zu machen, zu welcher Partei diese Fraktion gehört.
Ebenso finden sich viele inhaltliche Ähnlichkeiten bei Gremien wie zum
Beispiel Ausschüssen (z.B. Hauptausschuss, Verkehrsausschuss etc.) oder
bei Arten von Drucksachen (z.B. Anträge, Anfragen, Mitteilungen,
Beschlussvorlagen).

OParl lässt in Version 1.0 der Spezifikation noch viele Aufgaben, die
die Vereinheitlichung dieses Vokabulars betreffen, offen. Jedoch wird
durch die Verwendung von \hyperref[jsonld]{JSON-LD} als
Serialisierungsformat der Grundstein für eine Vereinheitlichung im Sinne
von Linked Data gelegt.

\subsection{Zukunftssicherheit}\label{zukunftssicherheit}

Wie unter \hyperref[designprinzipien]{Designprinzipien} beschrieben, ist
diese erste Version der OParl-Spezifikation bereits im Wesentlichen von
den Zielen der einfachen Implementierbarkeit und Migration geleitet.

Der Aufwand, den die Betreiber von parlamentarischen
Informationssystemen bei der Bereitstellung von OParl-konformen
Schnittstellen betreiben, soll auch bei der zukünftigen
Weiterentwicklung dieser Spezifikation berücksichtigt werden. Ebenso
soll den Entwicklern von Client-Software zukünftig entgegen kommen, dass
ihre bestehenden Clients auch mit Servern kommunizieren können, die eine
neuere Version der OParl-Spezifikation unterstützen. Dieser Wunsch ist
bereits im Designprinzip \hyperref[erweiterbarkeit]{Erweiterbarkeit}
ausformuliert.

Mit anderen Worten: die Autoren der OParl-Spezifikation beabsichtigen
größtmögliche Zukunftssicherheit und zukünftige Abwärtskompatibilität.
Dieses Ziel wird in Zukunft natürlich abgewägt werden müssen mit dem
Wunsch, sich an Veränderungen und neue Erkenntnisse anzupassen. Eine
Garantie für Zukunftssicherheit kann insofern niemand aussprechen.

Ein fiktives Szenario soll verdeutlichen, dass es zweckmäßig ist, schon
beim Betrieb eines OParl 1.0 Servers die zukünftige Entwicklung im Blick
zu haben:

\begin{itemize}
\item
  Die Kommune \emph{Beispielstadt} betreibt ihren OParl-1.0-Server unter
  der URL \texttt{https://oparl.bstadt.de/1.0/}.
\item
  Verschiedene Clients, die für OParl Version 1.0 entwickelt wurden,
  kommen bei Nutzerinnen und Nutzern, die sich für den Stadtrat in
  Beispielstadt intressieren, zum Einsatz. Jeder Client-Nutzer hat dazu
  lediglich die URL \texttt{https://oparl.bstadt.de/1.0/} des
  OParl-Servers in der Client-Konfiguration hinterlegt.
\item
  Die OParl-Spezifikation wird aktualisiert, es erscheint Version 1.1.
  Das Schema enthält Erweiterungen gegenüber Version 1.0, jedes gültige
  Objekt aus Version 1.0 behält jedoch auch weiterhin seine Gültigkeit.
  Und Objekte, die nach Version 1.1 gültig sind, sind auch für Clients
  gültig, die für Version 1.0 entwickelt wurden.
\item
  Die Firma, die den OParl-Server von Beispielstadt entwickelt hat,
  liefert ein Update.
\item
  Der OParl-Server von Beispielstadt ist nun über eine neue URL
  \texttt{https://oparl.bstadt.de/1.1/} zu erreichen. Alle Anfragen an
  \texttt{https://oparl.bstadt.de/1.0/...} werden auf die entsprechende
  URL unter \texttt{https://oparl.bstadt.de/1.1/} mit HTTP-Redirects und
  Status-Code 301 weiter geleitet.
\item
  Die Nutzer der Clients, die mit dem OParl-Server von Beispielstadt
  arbeiten, können weiter arbeiten wie bisher. Sie erhalten vom Client
  höchstens einmalig eine Information, dass sich die Server-URL geändert
  hat.
\item
  Einzelne Client-NutzerInnen werden von den Anbietern ihrer Clients
  darauf aufmerksam gemacht, dass eine neue Version ihres Produkts für
  eine neue OParl-Version zur Verfügung steht. Mit dieser Version
  könnten die Nutzer in den Genuss der Vorteile von OParl Version 1.1
  kommen.
\item
  Nach einiger Zeit erscheint eine neue Version 2.0 der OParl
  Spezifikation. Hier haben sich größere Änderungen ergeben. Das Schema
  ist nicht kompatibel mit dem von Version 1.0 und 1.1. Clients, die für
  eine Version 1.* entwickelt wurden, werden nicht sinnvoll mit einem
  Server der Version 2 kommunizieren können.
\item
  Der Server-Entwickler bietet das entsprechende Produkt zu OParl
  Version 2 an, Beispielstadt entschließt sich zum Einsatz der neuen
  Version. Da das Server-Produkt gleichzeitig OParl 1.* und OParl 2.0
  bedienen kann, kann Beispielstadt gleichzeitig einen Endpunkt für 1.1
  und einen für 2.0 betreiben. Die URL des neuen Endpunkts lautet
  \texttt{https://oparl.bstadt.de/2.0/}.
\end{itemize}

Das Szenario verdeutlicht, wie insbesondere zwei Aspekte für eine
möglichst sanfte Migration zwischen den OParl-Versionen sorgen können:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Dedizierte API-Endpunkt-URLs für jede OParl-Version
\item
  HTTP-Weiterleitungen auf die neue URL, sofern diese kompatibel mit der
  alten ist, erspart den Parallelbetrieb von zwei ähnlichen Endpunkten
  und kommuniziert den Clients automatisch den Endpunkt der neuen
  Version
\end{enumerate}

Zu der Art, wie die OParl-Version sich auf die Endpunkt-URL auswirkt,
will diese Spezifikation keine Vorgaben machen. Die Pfad-Elemente im
obigen Szenario sind Vorschläge, aber in keiner Weise bindend.

Die praktische Umsetzung von HTTP-Weiterleitungen ist besonders dann
trivial, wenn die restlichen URL-Bestandteile identisch bleiben. In
diesem Fall können Server mit einer einfachen Regel von jeglicher
vorherigen auf jegliche neue URL weiter leiten.

\hyperdef{}{contentux5fnegotiation}{\subsection{Content
Negotiation}\label{contentux5fnegotiation}}

Server im World Wide Web können bestimmte Ressourcen entsprechend
RFC2295\footnote{RFC2295: \url{http://tools.ietf.org/html/rfc2295}} in
verschiedenen Formaten vorhalten. Clients haben die Möglichkeit, mittels
HTTP-Header schon in der Anfrage eine Vorliebe für ein bestimmtes Format
zu übermitteln.

Der Vorgang der Content Negotiation ist u.a. in
http://de.wikipedia.org/wiki/Content\_Negotiation erklärt. Content
Negotiation ist Bestandteil der HTTP 1.1 Spezifikation. Siehe RFC 2616
(http://tools.ietf.org/html/rfc2616).

Die Idee hinter Content Negotiation ist, dass ein Client die von ihm
akzeptierten Repräsentationen im \texttt{Accept}-Header des Requests
mitgibt, damit der Server gemäß Spezifikation die am besten passende und
von ihm unterstützte Repräsentation an den Client ausliefert.

Eine Schwierigkeit ergibt sich, dass auch \texttt{*/*} ein valider
\texttt{Accept}-Header und bedeutet soviel wie ``ich nehme alles''. Eine
Webanwendung würde dann üblicherweise HTML ausgeben, da es die Standard
Repräsentation einer Webanwendung ist. Im Falle einer API, die
standardmäßig mit JSON-LD arbeitet, würde eventuell
\texttt{application/ld+json} als Antwort erwartet. Der Server weiss in
diesem Fall aufgrund der fehlenden Information durch den Client nicht,
was dieser tatsächlich wünscht. Die OParl-Spezifikation kann in diesem
Fall für den Server auch nicht zwingend \texttt{application/ld+json}
vorgeben, da es durchaus sinnvoll sein kann, wenn unter einer URL
\emph{sowohl} OParl-Daten z.B. über ein Gremium abrufbar sind als auch
eine HTML-Seite mit Informationen über dieses Gremium.

OParl-Clients MÜSSEN den Accept-Header verwenden und darin mindestens
\texttt{application/ld+json} als akzeptiertes Format angeben.

Ein Server KANN Content Negotiation über einen Redirect auf eine andere
URL umsetzen, oder einfach die entsprechende Repräsentation ohne
Redirect ausgeben. Beides ist für OParl zulässig. Der OParl-Server MUSS
NICHT Content-Negotiation per Redirect unterstützen, aber OParl-Clients
MÜSSEN dies.

\subsubsection{httpRange-14}\label{httprange-14}

In dem Zusammenhang sei informell auf ein für Linked Data relevantes
Detail hingewiesen - auf welches man gelegentlich unter dem Kürzel
`httpRange-14 stößt. Wenn man in einem üblichen Web-Browser diesen
bereits an anderer Stelle erwähnten Link eingibt und aufruft:

\begin{verbatim}
https://dbpedia.org/resource/John_Doe_(musician)
\end{verbatim}

dann sieht man anschliessend bei der Anzeige der HTML-Seite diesen Link
im Adressfeld:

\begin{verbatim}
https://dbpedia.org/page/John_Doe_(musician)
\end{verbatim}

Dabei identifiziert der erste Link den abstrakten Begriff des Musikers,
während der zweite Link eine Repräsentation dieses Begriffs
identifiziert. Ein anderer http-Client, der statt HTML-Seiten z.B.
JSON-LD bevorzugt, würde bei Zugriff auf den ersten Link statt der
HTML-Seite den Inhalt dieser URL erhalten:

\begin{verbatim}
https://dbpedia.org/data/John_Doe_(musician).jsonld
\end{verbatim}

Dabei handelt es sich um eine Repräsentation des Musikers in Form von
JSON-LD.

Diese drei Links sind nicht nur verschieden, sondern haben
unterschiedliche Bedeutungen. Eine Angabe z.B. der zweiten URL
(HTML-Seite) oder der dritten URL (JSON-LD) kann von Clients generell
nicht verwendet werden, um auf einfache Weise zu den anderen beiden URLs
zu gelangen. Deshalb soll bei Linked Data der erste Link, also der des
abstrakten Begriffs angegeben werden. Der Zugriff auf diesen Link wird
``Dereferenzierung'' genannt. Von dem ersten Link gelangt man zu den
beiden anderen mittels ``Content Negotiation''.

So kann der Server beim Zugriff eines Client auf

\begin{verbatim}
https://dbpedia.org/resource/John_Doe_(musician)
\end{verbatim}

z.B. entweder diese URL sowie HTML-Inhalt liefern

\begin{verbatim}
https://dbpedia.org/page/John_Doe_(musician)
\end{verbatim}

oder aber diese URL mit JSON-LD als Inhalt

\begin{verbatim}
https://dbpedia.org/data/John_Doe_(musician).jsonld
\end{verbatim}

Die Entscheidung darüber, welche der URLs und welche der Inhaltsformate
der Server liefert, wird zwischen Client und Server mittels Content
Negotiation ausgehandelt.

\hyperdef{}{http-und-https}{\subsection{HTTP und
HTTPS}\label{http-und-https}}

OParl-Server und -Client kommunizieren miteinander über das
HTTP-Protokoll.

Hierbei SOLL eine verschlüsselte Variante des Protokolls, auch HTTPS
genannt, zum Einsatz kommen, alternativ kann jedoch auch
unverschlüsseltes HTTP verwendet werden. Welche
Verschlüsselungstechnologie im Fall von HTTPS gewählt wird, obliegt dem
Betreiber bzw. Server-Implementierer.

Die Wahl des unverschlüsselten oder verschlüsselten HTTP-Zugriffs hat
Auswirkung auf die im System verwendeten URLs. Wie im Kapitel
\hyperref[urls]{URLs} beschrieben, verfolgt diese Spezifikation die
Festlegung auf genau eine ``kanonische'' URL je Ressource
(URL-Kanonisierung).

Bei unverschlüsseltem Zugriff wird allen URLs, die auf das betreffende
System zeigen, das Schema ``http://'' voran gestellt, beim
verschlüsselten Zugriff stattdessen ``https://''.

Es ist daher ZWINGEND, dass der Server-Betreiber sich zur
URL-Kanonisierung für nur eine von beiden Varianten entscheidet.
Beantwortet das System regulär Anfragen über HTTPS mit der Auslieferung
von Objekten etc., dann MUSS das System bei Anfragen an die
entsprechenden URLs ohne ``https://'' Schema mit einer Weiterleitung
antworten (HTTP Status-Code 301).

Gleiches gilt umgekehrt: beantwortet das System regulär Anfragen über
unverschlüsseltes HTTP, dann MÜSSEN Anfragen auf die entsprechenden URLs
mit ``https://''-Schema mit einer HTTP-Weiterleitung (HTTP Status-Code
301) beantwortet werden. TODO: Geht das, wenn HTTPS nicht unterstützt
wird?

\hyperdef{}{urls}{\subsection{URLs, IRIs und URIs}\label{urls}}

Den URLs (für ``Uniform Resource Locators'') kommt bei einer
OParl-konformen API eine besondere Bedeutung zu und es werden eine Reihe
von Anforderungen an die Verarbeitung von URLs gestellt.

Im Rahmen dieses Dokuments wird aus Gründen der Verständlichkeit
generell der allgemein gebräuchlichere Begriff ``URL'' werwendet, auch
wenn damit tatsächlich die internationalisierte Variante nach RFC
3987\footnote{RFC 3987: \url{http://tools.ietf.org/html/rfc3987}}, die
korrekterweise IRI bzw. ``Internationalized Resource Identifier''
genannt werden müsste, gemeint ist. In andern Kontexten wiederum wird
von URIs bzw. ``Uniform Resource Identifier'' gesprochen. Das
vorliegende Dokumente fasst alle drei Konzepte mit dem Begriff ``URL''
zusammen und ignoriert damit die Unterschiede der einzelnen Begriffe, da
diese im Rahmen dieser Spezifikation ohne bedeutung sind.

Die grundsätzliche Funktionsweise von URLs ist in RFC 3986
beschrieben\footnote{RFC 3986: \url{http://tools.ietf.org/html/rfc3986}}.

Der Aufbau einer beispielhaften URL mit den Bezeichnungen, wie sie in
diesem Dokument Verwendung finden:

\begin{verbatim}
https://refserv.oparl.org/foo/bar/?skip=234
\___/   \_______________/\_______/ \______/
  |         |                |        |
Schema     Host             Pfad  Query-String
\end{verbatim}

\subsubsection{URL-Kanonisierung}\label{url-kanonisierung}

Absicht ist, dass jedes benannte Objekt\footnote{vgl.
  \hyperref[benannteux5fanonymeux5fobjekte]{Benannte und anonyme
  Objekte}}, das ein Server über eine OParl-API anbietet, über genau
eine URL identifizierbar und abrufbar ist. Diese Vereinheitlichung der
URL nennen wir Kanonisierung.

Die Kanonisierung ist entscheidend, um erkennen zu können, ob zwei URLs
das selbe Objekt repräsentieren. Sind zwei URLs identisch, sollen
Clients daraus ableiten können, dass diese das selbe Objekt
repräsentieren. Sind zwei URLs unterschiedlich, soll im Umkehrschluss
die Annahme gelten, dass sie zwei verschiedene Objekte repräsentieren.

Der OParl-konforme Server MUSS für jedes benannte Objekt eine kanonische
URL bestimmen können.

Die URL-Kanonisierung betrifft sämtliche Bestandteile der URL.
Entsprechend beginnt diese schon beim \textbf{Schema} und bei der
Entscheidung durch den Betreiber, ob eine OParl-API regulär über HTTP
oder über HTTPS erreichbar sein soll (vgl.
\hyperref[http-und-https]{HTTP und HTTPS}).

Der \textbf{Host}-Teil der URL wird ebenfalls durch die Konfiguration
des Betreibers festgelegt. Obwohl technisch auch die Verwendung einer
IP-Adresse (z.B. ``123.123.123.123'') möglich wäre, SOLL der Betreiber
einen mit Bedacht gewählten Host-Namen einsetzen. Die Vorteile dieser
Lösung gegenüber der Verwendung einer IP-Adresse sind vielfältig:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  NutzerInnen können Host-Namen lesen und interpretieren
\item
  In Kombination mit der richtigen Domain (oder Subdomain) kann der
  Hostname kommunizieren, wer der Betreiber ist.
\item
  Host-Namen können zwischen verschiedenen technischen Systemen (bzw.
  von IP-Adresse zu IP-Adresse) migriert werden, was hilft, die
  Langlebigkeit der URLs zu gewährleisten
\end{itemize}

Eine URL wie

\begin{verbatim}
http://oparl.stadtrat.stadt-koeln.de/
\end{verbatim}

kommuniziert beispielsweise direkt die Zugehörigkeit zur Stadt Köln als
Betreiber des Systems. Die Bezeichnung ``stadtrat'' in der Subdomain
zeigt den Zweck des Systems allgemein verständlich an. Der Host-Name
``oparl.stadtrat.stadt-koeln.de'' deutet an, dass diese URL zu einer
OParl-Schnittstelle zu diesem System gehört.

Um die Kanonisierung zu gewährleisten, sind vom Betreiber alle
notwendigen Faktoren auszuschließen, die dazu führen können, dass eine
Ressource neben der kanonischen URL noch über andere URLs abrufbar ist.
Diese Faktoren könnten sein:

\begin{itemize}
\item
  Der selbe Server antwortet nicht nur über den kanonischen Host-Namen,
  sondern auch noch über andere Host-Namen. Das könnte zum Beispiel der
  Fall sein, wenn der Host-Name als CNAME für einen anderen Namen
  konfiguriert wurde oder wenn ein DNS A-Record für die IP-Adresse des
  Servers existiert.
\item
  Der Server ist neben dem Host-Namen auch über die IP-Adresse
  erreichbar.
\item
  Zusätzliche Domains, die einen A-Record auf den selben Server besitzen
\end{itemize}

Zu der kanonischen Beispiel-URL https://oparl.stadtrat.stadt-koeln.de/
wären eine Reihe von nicht-kanonischen URL-Varianten denkbar, die
technischen auf den selben Server führen könnten:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  https://83.123.89.102/
\item
  https://oparl.stadtrat.stadtkoeln.de/
\item
  https://risserv.stadt-koeln.de/
\end{itemize}

Falls es aus technischen Gründen nicht möglich ist, den Zugang auf das
OParl-System über nicht-kanonische URLs zu unterbinden, SOLL eine
entsprechende HTTP-Anfrage mit einer Weiterleitung auf die entsprechende
kanonische URL beantwortet werden. Dabei ist der HTTP-Status-Code 301 zu
verwenden.

Server-Implementierern wird empfohlen, hierfür den Host-Header der
HTTP-Anfrage auszuwerten und mit der konfigurierten Einstellung für den
kanonischen Hostnamen des Systems abzugleichen.

Beim \textbf{Pfad}-Bestandteil der URL MÜSSEN Server-Implementierer
darüber hinaus beachten, dass nur jeweils eine Schreibweise als die
kanonische Schreibweise gelten kann. Dazu gehört auch die Groß- und
Kleinschreibung, die Anzahl von Schrägstrichen als Pfad-Trennzeichen,
die Anzahl von führenden Nullen vor numerischen URL-Bestandteilen und
vieles mehr.

Die Kanonisierung umfasst auch den \textbf{Query-String}-Bestandteil der
URL. Wie auch beim Pfad, gilt hier, dass für jeden Parameter und jeden
Wert im Query-String nur eine kanonische Schreibweise gelten MUSS.

Darüber hinaus SOLL der Server-Implementierer darauf achten, bei
Verwendung von Query-String-Parametern diese in URLs immer nach dem
selben Prinzip zu sortieren. Ein Beispiel: die beiden URLs

\begin{verbatim}
https://oparl.beispielris.de/members?body=1&committee=2
https://oparl.beispielris.de/members?committee=2&body=1
\end{verbatim}

unterscheiden sich lediglich in der Reihenfolge der
Query-String-Parameter. Da sie jedoch nicht identisch sind, müssen
Clients annehmen, dass beide URLs verschiedene Objekte repräsentieren.
In der Konsequenz kann es zu vermeidbarer Ressourcennutzung sowohl auf
Client- als auch auf Serverseite kommen.

\subsubsection{Langlebigkeit}\label{langlebigkeit}

Weiterhin ist es Absicht, dass URLs von Objekten langlebig sind, so dass
sie, wenn sie einmal verbreitet wurden, langfristig zur Abfrage des
dazugehörigen Objekts verwendet werden können.

Um dies zu gewährleisten, wird den \textbf{Betreibern} empfohlen, die
Wahl der Domain, eventuell der Subdomain und letztlich des Host-Namens
sorgfältig auf seine längerfristige Verwendbarkeit abzuwägen.

\textbf{Server-Implementierer} SOLLEN darüber hinaus dafür sorgen, dass
der Pfad-Bestandteil der URLs die Langlebigkeit der URLs unterstützt. Es
gelten die folgenden Empfehlungen, die jedoch keinen Anspruch auf
Vollständigkeit erheben:

\begin{itemize}
\item
  \textbf{Veränderliche Objekt-Eigenschaften nicht als URL-Bestandteil
  nutzen.} In URLs sollten nur Eigenschaften des Objekts aufgenommen
  werden, die keinen Veränderungen unterliegen. Ändert sich
  beispielsweise die Kennung einer Drucksache im Verlauf ihrer Existenz,
  dann scheidet sie für die Bildung der URL aus.
\item
  \textbf{Technische Eigenschaften der Implementierung verbergen.} Ist
  ein OParl-Server beispielsweise in PHP implementiert, sollte dies
  nicht dazu führen, dass im Pfad ein Bestandteil wie ``oparl.php/''
  erscheint. Erfahrungsgemäß überdauern solche URLs nur kurz.
\end{itemize}

Weitere Empfehlungen für langlebige URLs liefern Tim
Berners-Lee\footnote{Berners-Lee, Tim: Cool URIs don't change.
  \url{http://www.w3.org/Provider/Style/URI.html}} sowie die Europäische
Kommission\footnote{Study on persistent URIs, with identification of
  best practices and recommendations on the topic for the MSs and the
  EC. (PDF)
  \url{https://joinup.ec.europa.eu/sites/default/files/D7.1.3\%20-\%20Study\%20on\%20persistent\%20URIs.pdf}}.

\subsection{Serialisierung mittels JSON-LD und
JSONP}\label{serialisierung-mittels-json-ld-und-jsonp}

Eine OParl-konforme API gibt Objekte in Form von JSON aus. Die Objekte
werden dabei entsprechend der JSON-LD Spezifikation um Kontexte
erweitert, welche die Selbstbschreibungsfähigkeit der ausgegebenen Daten
verbessert. Auf Anforderung des Clients wird darüber hinaus JSONP
unterstützt.

In jedem Fall MUSS ein Server die Anfrage eines Clients unter Verwendung
des HTTP \texttt{Content-type}-Headers \texttt{application/ld+json}
beantworten. Die Spezifikation von JSON-LD liefert dazu genauere
Informationen\footnote{JSON-LD 1.0: IANA COnsiderations:
  \url{http://www.w3.org/TR/json-ld/\#iana-considerations}}, auch zu dem
optionalen Parameter \texttt{profile} für die explizite Anforderung von
JSON-LD in einer dieser drei Unterformen: kompakt, expandiert oder
flach.

Wenn der Server auch Anfragen nach \texttt{application/json} akzeptiert,
dann SOLL er expandierte JSON-LD Dokumente liefern (also solche ohne
\texttt{@context}).

TODO: MUSS der Server solche Legacy-Anfragen akzeptieren? Warum?

\subsubsection{JSON}\label{json}

Die Abkürzung JSON steht für ``JavaScript Object Notation''. Das
JSON-Format ist in RFC4627\footnote{RFC4627:
  \url{https://tools.ietf.org/html/rfc4627}} beschrieben. Nachfolgend
werden nur die wichtigsten Definitionen übernommen, um eine Terminologie
zur weiteren Verwendung in diesem Dokument zu etablieren.

Das JSON-Format unterstützt die Ausgabe von vier verschiedenen
primitiven Datentypen:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  \emph{Zeichenkette} (Unicode)
\item
  \emph{Zahl} (sowohl Ganzzahlen als auch Fließkommazahlen)
\item
  \emph{Wahrheitswert} (\texttt{true} oder \texttt{false})
\item
  \emph{Null}
\end{itemize}

Darüber hinaus werden zwei komplexe Datentypen unterstützt:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  \emph{Objekt}: Eine Sammlung von Schlüssel-Wert-Paaren ohne
  Reihenfolge, wobei der Schlüssel eine Zeichenkette sein muss und der
  Wert ein beliebiger Datentyp sein kann.
\item
  \emph{Array}: Eine geordnete Liste mit beliebigen Datentypen.
\end{itemize}

Beispiel eines Objekts in JSON-Notation:

\hyperdef{}{jsonux5fex1}{\label{jsonux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"zeichenkette"}\NormalTok{: }\StringTok{"Das ist eine Zeichenkette"}\NormalTok{,}
    \DataTypeTok{"zahl"}\NormalTok{: }\FloatTok{1.23456789}\NormalTok{,}
    \DataTypeTok{"wahrheitswert"}\NormalTok{: }\DecValTok{true}\NormalTok{,}
    \DataTypeTok{"null"}\NormalTok{: }\DecValTok{null}\NormalTok{,}
    \DataTypeTok{"objekt"}\NormalTok{: \{}
        \DataTypeTok{"foo"}\NormalTok{: }\StringTok{"bar"}
    \NormalTok{\},}
    \DataTypeTok{"array"}\NormalTok{: [}\StringTok{"foo"}\NormalTok{, }\StringTok{"bar"}\NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\hyperdef{}{jsonld}{\subsubsection{JSON-LD}\label{jsonld}}

Das Kürzel LD im Namen ``JSON-LD'' steht für ``Linked Data''\footnote{siehe
  dazu \hyperref[linkedux5fdata]{Linked Data}}. Entsprechend erweitert
die JSON-LD-Spezifikation\footnote{\url{http://www.w3.org/TR/json-ld/}}
das JSON-Format um die Möglichkeit,

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Objekte mit anderen Objekten zu verknüpfen,
\item
  Objekte und Eigenschaften bestimmten Typen zuzuordnen und damit
\item
  Auskunft über die semantische Bedeutung von Objekten und Eigenschaften
  zu geben.
\end{itemize}

Ein Beispiel aus der JSON-LD-Spezifikation illustriert, wie JSON-LD ein
Objekt um zusätzliche semantische Informationen erweitert. Als
Ausgangspunkt dient eine Personenbeschreibung in gewöhnlichem JSON:

\hyperdef{}{jsonldux5fex1}{\label{jsonldux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
  \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Manu Sporny"}\NormalTok{,}
  \DataTypeTok{"homepage"}\NormalTok{: }\StringTok{"http://manu.sporny.org/"}\NormalTok{,}
  \DataTypeTok{"image"}\NormalTok{: }\StringTok{"http://manu.sporny.org/images/manu.png"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Als menschlicher Betrachter kann man leicht erkennen, dass die
Eigenschaft \texttt{name} den Namen der Person enthält, dass
\texttt{homepage} die Website der Person sein könnte und dass
\texttt{image} die URL einer Bilddatei der Person sein könnte. Ein
automatisierter Client jedoch, dem die Objekteigenschaften nicht bekannt
sind, kann die Bedeutung dieser Eigenschaften nicht entschlüsseln.

Entsprechend der JSON-LD-Spezifikation kann diese Erläuterung über die
\texttt{@context}-Eigenschaft direkt im selben Objekt, sozusagen als
Unterobjekt, mitgeliefert werden:

\hyperdef{}{jsonldux5fex2}{\label{jsonldux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
  \DataTypeTok{"@context"}\NormalTok{:}
  \NormalTok{\{}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"http://xmlns.com/foaf/0.1/name"}\NormalTok{,}
    \DataTypeTok{"image"}\NormalTok{: \{}
      \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"http://xmlns.com/foaf/0.1/img"}\NormalTok{,}
      \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"@id"}
    \NormalTok{\},}
    \DataTypeTok{"homepage"}\NormalTok{: \{}
      \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"http://xmlns.com/foaf/0.1/homepage"}\NormalTok{,}
      \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"@id"}
    \NormalTok{\}}
  \NormalTok{\},}
  \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Manu Sporny"}\NormalTok{,}
  \DataTypeTok{"homepage"}\NormalTok{: }\StringTok{"http://manu.sporny.org/"}\NormalTok{,}
  \DataTypeTok{"image"}\NormalTok{: }\StringTok{"http://manu.sporny.org/images/manu.png"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Hier sind die Eigenschaften wie \texttt{image} einer URL wie
http://schema.org/image zugewiesen. Ein Client, der diese URL kennt,
kann daraus folgern, dass über die Objekteigenschaft \texttt{image}
immer die URL eines Bildes zu finden ist. Das Schlüssel-Wert-Paar

\begin{verbatim}
"@type": "@id"
\end{verbatim}

sagt darüber hinaus aus, dass der Wert dieser Eigenschaft die URL eines
anderen Objekts ist\footnote{URLs heißen in der JSON-LD-Spezifikation
  ``IRI'' (für ``Internationalized Resource Identifier''), wir verwenden
  hier jedoch weiterhin die Bezeichnung ``URL''.}. Mittels
\texttt{@type}-Deklaration könnte aber auch beispielsweise eine
Eigenschaft, die im JSON-Sinn eine Zeichenkette ist, als Datum
deklariert werden.

Am obigen Beispiel fällt auf, dass der \texttt{@context}-Teil des
Objekts schon mehr Daten umfasst, als die eigentlichen
Objekteigenschaften. Sinnvollerweise kann jedoch der gesamte Inhalt des
\texttt{@context}-Teils in eine externe Ressource ausgelagert werden.
Das folgende Beispiel verdeutlicht dies:

\hyperdef{}{jsonldux5fex3}{\label{jsonldux5fex3}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
  \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"http://json-ld.org/contexts/person.jsonld"}\NormalTok{,}
  \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Manu Sporny"}\NormalTok{,}
  \DataTypeTok{"homepage"}\NormalTok{: }\StringTok{"http://manu.sporny.org/"}\NormalTok{,}
  \DataTypeTok{"image"}\NormalTok{: }\StringTok{"http://manu.sporny.org/images/manu.png"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Die \texttt{@context}-Eigenschaft hat nun als Wert eine URL. Die URL
(hier: http://json-ld.org/contexts/person.jsonld) gibt wiederum in JSON
kodiert die Beschreibung aller möglichen Attribute des Objekts aus. Die
Kontext-Beschreibung des JSON-LD-Objekts wurde somit in eine externe
Ressource ausgelagert. Clients SOLLEN davon ausgehen, dass sich diese
externen Kontextbeschreibungen nur selten ändern. Somit genügt es, bei
Abruf vieler gleichartiger JSON-LD-Objekte vom Server die
Kontext-Ressource nur einmal zu laden.

Im Sinne der JSON-LD-Spezifikation sind Objekte mit eingebettetem und
externem Kontext identisch. Den Implementierern eines OParl-konformen
Servers wird EMPFOHLEN, grundsätzlich die Kontextinformation mittels
externer Ressourcen zu übermitteln. Die OParl Autoren werden hierzu die
zu dieser Spezifikation passenden Ressourcen auf oparl.org für jegliche
Verwendung zur Verfügung stellen (mehr dazu im
\hyperref[jsonldux5fressourcenux5foparlorg]{Anhang}). Sollten
Server-Implementierer zusätzliche Objekttypen benötigen, die nicht von
dieser Spezifikation abgedeckt sind, SOLL entsprechend zusätzlich auf
eigene Kontextressourcen unter geeigneten URLs verwiesen werden. Hierbei
können herstellereigene und OParl-spezifische URls gemischt werden, wie
in einem Beispiel weiter unten verfeutlicht wird.

JSON-LD ermöglicht es auch, für ein Objekt einen \textbf{Objekttyp} zu
kommunizieren. So könnte passend zu unserem Beispiel ausgedrückt werden,
um welche Art von Objekt es sich bei den vorliegenden Daten handelt.
Dazu wird die \texttt{@type}-Eigenschaft verwendet, deren Wert eine URL
ist:

\hyperdef{}{jsonldux5fex4}{\label{jsonldux5fex4}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
  \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"http://json-ld.org/contexts/person.jsonld"}\NormalTok{,}
  \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://schema.org/Person"}\NormalTok{,}
  \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Manu Sporny"}\NormalTok{,}
  \DataTypeTok{"homepage"}\NormalTok{: }\StringTok{"http://manu.sporny.org/"}\NormalTok{,}
  \DataTypeTok{"image"}\NormalTok{: }\StringTok{"http://manu.sporny.org/images/manu.png"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Objekte können mehreren Typen zugeordnet sein und damit die Eigenschafen
mehrerer Objekttypen nutzen. Im Fall von OParl kann diese Möglichkeit
genutzt werden, um über die API Eigenschaften auszugeben, die nicht Teil
des OParl-Schemas sind.

\hyperdef{}{jsonldux5fex5}{\label{jsonldux5fex5}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
  \DataTypeTok{"@context"}\NormalTok{: \{}
    \DataTypeTok{"oparl"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/"}\NormalTok{,}
    \DataTypeTok{"vendor"}\NormalTok{: }\StringTok{"http://www.vendor.de/oparl/schema/"}
  \NormalTok{\},}
  \DataTypeTok{"@type"}\NormalTok{: [}\StringTok{"oparl:Paper"}\NormalTok{, }\StringTok{"vendor:Drucksache"}\NormalTok{],}
  \DataTypeTok{"title"}\NormalTok{: }\StringTok{"Beschlussvorlage zum Haushalt"}\NormalTok{,}
  \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2013-05-29T14:17:39+02:00"}\NormalTok{,}
  \DataTypeTok{"aktenzeichen"}\NormalTok{: }\StringTok{"ABC123"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das Beispiel oben zeigt ein Objekt, das über die
\texttt{@context}-Eigenschaft zwei verschiedene URLs als sogenannte
Vokabulare referenziert. Das eine Vokabular wird durch das
Namensraum-Präfix \texttt{oparl} repräsentiert, das zweite
(herstellereigene) durch das Namensraum-Präfix \texttt{vendor}.

Durch das Schlüsselwort \texttt{@type} wird nun dem Objekt ein oder
mehrere Objekttypen zugewiesen. Dabei werden die zuvor beschriebenen
Namensraum-Präfixe genutzt. Ein JSON-LD-Client verarbeitet
Namensraum-Präfixe und Typenbezeichnung so, dass diese letztlich für
jeden Objekttypen eine eindeutige URL ergeben.

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Aus \texttt{oparl:Paper} wird
  \texttt{http://oparl.org/schema/1.0/Paper}
\item
  Aus \texttt{vendor:Drucksache} wird
  \texttt{http://www.vendor.de/oparl/schema/Drucksache}
\end{itemize}

TODO: Eventuell hier die Anforderung festhalten, dass jedes Objekt, das
über eine OParl API ausgegeben wird, das \texttt{@type}-Schlüsselwort
haben MUSS. Das ist noch nicht geklärt, da Listen hier eine Ausnahme
bilden können.

Eine JSON-LD-konforme Ausgabe stellt noch weitere Anforderungen, von
denen nachfolgend die wichtigsten zusammen gefasst werden.

\begin{itemize}
\item
  \textbf{Schlüssel MÜSSEN einzigartig sein}: Es ist nicht zulässig, in
  einem JSON-LD-Objekt mehrmals den selben Schlüssel für ein Attribut zu
  verwenden.
\item
  \textbf{Groß- und Kleinschreibung werden unterschieden}: Groß- und
  Kleinschreibung MÜSSEN bei allen Bestandteilen eines JSON-LD-Dokuments
  unterschieden werden, also auch bei den Attributnamen.
\item
  \textbf{Listen gelten grundsätzlich als nicht sortiert}: Die
  JSON-Spezifikation geht bei Listen grundsätzlich davon aus, dass diese
  eine Sortierung besitzen. Im Unterschied dazu gilt für JSON-LD, dass
  die Reihenfolge der Werte zwischen zwei eckigen Klammern \texttt{{[}}
  und \texttt{{]}} als zufällig gilt, sofern nicht anders spezifiziert.
  Wer einen JSON-LD-Objekttyp spezifiziert, kann jedoch mittels des
  Schlüsselwortes \texttt{@list} kennzeichnen, dass es sich hierbei um
  eine sortierte Liste handelt.

  Wo immer die OParl-Spezifikation eine stabile, nicht zufällige
  Sortierung von Listen erwartet, wird dies eigens erwähnt werden. Das
  OParl-JSON-LD-Vokabular wird an der entsprechenden Stelle das
  Schlüsselwort \texttt{@list} verwenden.
\item
  \textbf{Listen DÜRFEN NICHT verschachtelt werden}: JSON-LD erlaubt
  keine Listen, die wiederum Listen als Werte enthalten.
\end{itemize}

\hyperdef{}{jsonp}{\subsubsection{JSONP}\label{jsonp}}

Eine Einschränkung bei der Nutzung von JSON ist das Sicherheitsmodell
von Web-Browsern. Die gängigen Browser erlauben es innerhalb von
Webanwendungen nicht, JSON-Ressourcen von Domains auszulesen, die nicht
der Domain entsprechen, von der die Webanwendung selbst geladen wurde.
AnwendungsentwicklerInnen sind dadurch bei der Implementierung von
Client-Anwendungen eingeschränkt.

Diese Einschränkung gilt nicht fürt JSONP\footnote{TODO: URL zur
  Spezifikation}. Durch JSONP (TODO: Abkürzung erläutern) wird die
JSON-Notation so erweitert, dass der ausgegebene Code ausführbarer
JavaScript-Code wird. Damit wird erreicht, dass der JSON-Code über die
Grenzen von Domains hinweg direkt von Webanwendungen eingebunden werden
kann.

Das folgende Beispiel verdeutlicht den Unterschied zwischen JSON und
JSONP. Zunächst ein einfaches JSON-Beispiel:

\hyperdef{}{jsonpux5fex1}{\label{jsonpux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"foo"}\NormalTok{: }\StringTok{"bar"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Durch Einbettung in eine sogenannte Callback-Funktion wird daraus JSONP:

\hyperdef{}{jsonpux5fex2}{\label{jsonpux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\ErrorTok{mycallback(}\NormalTok{\{}
    \DataTypeTok{"foo"}\NormalTok{: }\StringTok{"bar"}
\NormalTok{\}}\ErrorTok{)}
\end{Highlighting}
\end{Shaded}

Der Name der Callback-Funktion (im Beispiel ``mycallback'') wird
grundsätzlich bei der Anfrage vom Client bestimmt, und zwar mittels
URL-Parameter.

Für eine OParl-konforme Schnittstelle wird EMPFOHLEN, dass der Server
die JSONP-Ausgabe unterstützt. Die JSONP-Ausgabe MUSS in diesem Fall für
sämtliche Abfragen möglich sein. Eine JSONP-Unterstzung nur für
bestimmte Anfragen ist nicht vorgesehen.

Der URL-Parameter, den Clients zur Aktivierung der JSONP-Ausgabe
verwenden, MUSS \texttt{callback} lauten. Der Wert des
\texttt{callback}-URL-Parameters MUSS vom Server unverändert als
Callback-Funktionsname verwendet werden.

Aus Sicherheitsgründen MUSS der Client den Wert des
\texttt{callback}-Parameters aus einem eingeschränkten Zeichenvorrat
bilden, erlaubt sind ausschließlich die Klein- und Großbuchstaben von a
bis z bzw. A bis Z sowie die Ziffern von 0 bis 9.

Hält sich der Client nicht an diese Einschränkung und wird ein
\texttt{callback}-Parameter mit nicht erlaubten Zeichen verwendet, SOLL
der Server die Anfrage mit einer HTTP XXX (Bad Request) Antwort
bedienen. (TODO: Status Code einfügen oder prüfen, welche HTTP-Antwort
die geeignetste ist.)

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  TODO: Spezifikation finden/verlinken. (RFC gibt es nicht)
\item
  https://github.com/OParl/specs/issues/67
\end{itemize}

\hyperdef{}{benannteux5fanonymeux5fobjekte}{\subsection{Benannte und
anonyme Objekte}\label{benannteux5fanonymeux5fobjekte}}

Die JSON-LD-Spezifikation unterscheidet zwischen benannten und anonymen
Objekten. Da die Unterscheidung auch für OParl von Bedeutung ist, wird
sie hier genauer erläutert.

\subsubsection{Benannte Objekte}\label{benannte-objekte}

Benannte Objekte sind innerhalb einer JSON-LD-Ausgabe diejenigen
Objekte, die durch eine eigene URL identifiziert werden. Als Beispiel
dient ein fiktives Objekt, das ein Client über die URL

\begin{verbatim}
https://oparl.beispielris.de/bodies/0/committees/1
\end{verbatim}

abruft:

\hyperdef{}{benanntanonymux5fex1}{\label{benanntanonymux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/committees/1"}\NormalTok{,}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/committee"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Hauptausschuss"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das Objekt enthält eine Eigenschaft \texttt{@id} mit der URL des Objekts
als Wert.

Das benannte Objekt kann über seine URL sowohl eindeutig identifiziert
als auch direkt abgerufen werden.

\subsubsection{Anonyme Objekte (Blank
Nodes)}\label{anonyme-objekte-blank-nodes}

Im Gegensatz dazu können Objekte existieren, die keine eigene URL haben.

Wenn diese im Semantic Web verwendet werden, dann führen sie zu
erheblichen Problemen. Sandro Hawke (W3C) hat diese so zusammengefasst:

\begin{quote}
In general, blank nodes are a convenience for the content provider and a
burden on the content consumer. Higher quality data feeds use fewer
blank nodes, or none. Instead, they have a clear concept of identity and
service for every entity in their data.
\end{quote}

\begin{quote}
If someone in the middle tries to convert (Skolemize) blank nodes, it's
a large burden on them. Specifically, they should provide web service
for those new URIs, and if they get updated data from their sources,
they're going to have a very hard {[}perhaps impossible{]} time
understanding what really changed. (Zitiert nach
http://richard.cyganiak.de/blog/2011/03/blank-nodes-considered-harmful/)
\end{quote}

Ein Beispiel dafür findet sich in der Beratungsfolge einer Drucksache.
Das nachfolgende Beispiel zeigt eine Drucksache, deren Beratungsfolge
über die Eigenschaft \texttt{consultations} kodiert ist.

TODO: Nachstehendes Beispiel und Text dazu auf stimmiges Paper Objekt
umschreiben.

\hyperdef{}{benanntanonymux5fex2}{\label{benanntanonymux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/456"}\NormalTok{,}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/paper"}\NormalTok{,}
    \DataTypeTok{"title"}\NormalTok{: }\StringTok{"Beschlussvorlage zur Jugendförderung"}\NormalTok{,}
    \DataTypeTok{"consultations"}\NormalTok{: [}
        \NormalTok{\{}
            \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/consultation"}\NormalTok{,}
            \DataTypeTok{"committee"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/committees/1"}\NormalTok{,}
            \DataTypeTok{"meeting"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/committees/1/meetings/123"}\NormalTok{,}
            \DataTypeTok{"agendaitem"}\NormalTok{: }\StringTok{"7.2.4"}\NormalTok{,}
            \DataTypeTok{"authoritative"}\NormalTok{: }\DecValTok{false}
        \NormalTok{\},}
        \NormalTok{\{}
            \ErrorTok{...}
        \NormalTok{\}}
    \NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Die Eigenschaft \texttt{consultations} ist eine Liste mit einem oder
mehreren Objekten vom Typ \texttt{consultation}. Diese Objekte spiegeln
wieder, in welchen Sitzungen die vorliegende Drucksache beraten wurde
bzw. wird.

Die einzelnen \texttt{consultation}-Objekte haben keine
\texttt{@id}-Eigenschaft, daher handelt es sich dabei um anonyme
Objekte, auch \emph{Blank Nodes} genannt. Diese Objekte können nicht
einzeln, sondern nur im Kontext verbundener Objekte, wie hier im
Beispiel im Kontext einer Drucksache, abgerufen werden.

TODO: Weitere Objekttypen nennen, in denen Blank Nodes vorkommen.

\hyperdef{}{objektlisten}{\subsection{Objektlisten}\label{objektlisten}}

Über die OParl-API können entweder einzelne (benannte) Objekte,
beispielsweise eine bestimmte Drucksache, oder Listen von Objekten, etwa
die Liste aller Sitzungen einer Körperschaft, abgefragt werden.

Fragt ein Client eine Liste von Objekten an, hat der Server mehrere
Möglichkeiten, diese Anfrage zu beantworten.

In jedem Fall werden die einzelnen Objekte, die Bestandteile der Liste
sind (wie z.B. die einzelnen Drucksachen) durch die URL des jeweiligen
Objekts repräsentiert. Objektlisten sind also tatsächlich immer Listen
von URLs.

\subsubsection{Vollständige
Listenausgabe}\label{vollstuxe4ndige-listenausgabe}

In der einfachsten Form gibt der Server die Liste als Objekt mit nur
einer einzigen Eigenschaft \texttt{items} aus. Der Wert dieser
Eigenschaft ist die \textbf{vollständige Liste} der URLs aller in der
Liste enthaltenen Objekte.

Diese einfachste Form der Antwort eignet sich nur für Listen mit einer
begrenzten Anzahl von Einträgen, wie beispielsweise die Liste der
Mitglieder einer Organisation.

Beispiel:

\hyperdef{}{objektlistenux5fex1}{\label{objektlistenux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"items"}\NormalTok{: [}
        \StringTok{"https://beispielris.de/bodies/0/papers/2"}\NormalTok{,}
        \StringTok{"https://beispielris.de/bodies/0/papers/5"}\NormalTok{,}
        \StringTok{"https://beispielris.de/bodies/0/papers/7"}\NormalTok{,}
    \NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Die vollständige Listenausgabe SOLL nur für Listen verwendet werden, die
bis zu 100 Einträge umfassen.

\hyperdef{}{paginierung}{\subsubsection{Paginierung}\label{paginierung}}

Für den Abruf von Listen mit vielen Elementen ist eine Blätterfunktion
(Paginierung) vorgesehen. Darunter verstehen wir die Aufteilung einer
Liste in kleinere Teilstücke, die wir hier als Listenseiten bezeichnen.
Jede Listenseite wird vom Client jeweils mit einer eigenen API-Anfrage
abgerufen. Das dient dazu, die bei der jeweiligen Anfrage übertragenen
Datenmengen zu begrenzen und damit Antwortzeiten und Systemressourcen
sowohl beim Server als auch beim Client zu schonen.

Die Entscheidung, ob eine Seite teilweise und daher mit Paginierung
ausgegeben wird, liegt allein beim Server. Bei Listen mit mehr als 100
Einträgen ist dies EMPFOHLEN. Die Zahl der Einträge, die der Server
dabei je Listenseite ausliefert, SOLL dabei maximal 100 betragen. Die
Anzahl der Einträge (Obergrenze) MUSS auf allen Listenseiten der selben
Liste einheitlich sein, sofern nicht (beispielsweise auf der letzten
Listenseite) weniger Listeneinträge vorhanden sind.

Wird eine Liste in Form von Listenseiten, also mit Paginierung,
ausgegeben, teilt der Server dem Client mittels HTTP-Headern in der
nachfolgend beschriebenen Form mit, unter welcher URL weitere
Listenseiten abgerufen werden können. Dabei wird von dem in
RFC5988\footnote{RFC5988: \url{http://tools.ietf.org/html/rfc5988}}
beschriebenen Header namens \texttt{Link} Gebrauch gemacht.

Beispiel eines Link-Headers zur Angabe der URL für den Abruf der
folgenden Listenseite:

\begin{verbatim}
Link: <https://oparl.beispielris.de/bodies/0/papers/?skip_id=7>;rel=next
\end{verbatim}

Im oben gezeigten Beispiel besteht der Wert des Link-Headers aus zwei
Bestandteilen, die durch Semikolon \texttt{;} von einander getrennt
sind:

\begin{verbatim}
<https://oparl.beispielris.de/bodies/0/papers/?skip_id=7>;rel=next
 \_____________________________________________________/  \______/
                            |                                |
                           URL                        Link-Parameter
\end{verbatim}

Die Bestandteile sind:

\begin{description}
\item[URL:]
Die URL zum Abruf der nächsten Listenseite. Die URL wird in spitzen
Klammern \texttt{\textless{}} und \texttt{\textgreater{}} ausgegeben.
\emph{Hinweis:} Wie diese URL aufgebaut ist, entscheidet allein der
Server. Hier wird lediglich ein fiktives Beispiel gegeben.
\item[Link-Parameter:]
Gemäß RFC5988 können belibig viele, auch null, Link-Parameter hinter der
URL ausgegeben werden, jeweils durch ein Semikolon von der URL getrennt.
Für OParl gilt: Es MUSS bei einer Liste mit Paginierung genau ein
Link-Header mit dem Link-Parameter \texttt{rel=next} gegeben sein,
sofern es eine nächste Seite mit weiteren Listenelementen gibt. Stellt
die mit der aktuellen Anfrage ausgegebene Listenseite das Ende der Liste
dar, DARF die Anfrage NICHT den Link-Header mit Link-Parameter
\texttt{rel=next} enthalten.
\end{description}

Es ergibt sich eine typische Abfolge, wie Clients bei Bedarf mit
mehreren Anfragen ganze Objektlisten vom Server abrufen:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Der Server stellt eine URL für eine Liste zur Verfügung.
\item
  Der Client ruft diese URL der Liste auf.
\item
  Der Server antwortet mit einer Listenseite und stellt im Link-Header
  mit Link-Parameter \texttt{rel=next} die URL für den Abruf der
  nächsten Listenseite zur Verfügung.
\item
  Der Client ruft die im Link-Header übergebene URL für die nächste
  Listenseite auf.
\end{enumerate}

Die Punkte 3 und 4 können sich nun so oft wiederholen, bis die letzte
Listenseite erreicht ist.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Der Server liefert die letzte Listenseite ohne Link-Header aus.
\end{enumerate}

Zusätzlich zu dem für die Paginierung obligatorischen Link-Header für
die folgende Listenseite (Link-Parameter \texttt{rel=next}) können
Server OPTIONAL weitere Link-Header zum Abruf bestimmter Listenseiten
anbieten:

\begin{description}
\item[Erste Listenseite (\texttt{first}):]
Sofern die aktuell abgerufene Listenseite nicht den Anfang der Liste
wiedergibt, KANN der Server einen Link-Header mit Link-Parameter
\texttt{rel=first} und der URL zum Abruf der \emph{ersten} Listenseite
ausgeben.
\item[Letzte Listenseite (\texttt{last}):]
Sofern die aktuell abgerufene Listenseite nicht das Ende der Liste
wiedergibt, KANN der Server einen Link-Header mit Link-Parameter
\texttt{rel=last} und der URL zum Abruf der \emph{letzten} Listenseite
ausgeben.
\item[Vorherige Listenseite (\texttt{prev}):]
Sofern die aktuell abgerufene Listenseite nicht den Anfang der Liste
wiedergibt, KANN der Server einen Link-Header mit Link-Parameter
\texttt{rel=prev} und der URL zum Abruf der ersten Listenseite ausgeben.
\end{description}

Damit eröffnet der Server dem Client zusätzliche Möglichkeiten, die
einzelnen Listenseiten abzurufen.

\begin{figure}[htbp]
\centering
\includegraphics{images/pagination01.png}
\caption{Paginierung: Schematische Darstellung}
\end{figure}

Server-Implementierer entscheiden selbst, wie die URLs zum Abruf
einzelner Listenseiten aufgebaut ist und tragen damit selbst
Verantwortung für die Funktionsweise der Paginierung. Bei der
Entscheidung für eine Form der Implementierung sollten die folgenden
Anforderungen von Clients berücksichtigt werden.

Es ist davon auszugehen, dass Clients für den gesamten Abruf aller
Seiten einer Liste längere Zeit benötigen. In der Zwischenzeit kann sich
der Inhalt der Liste bereits ändern, etwa durch das Hinzukommen neuer
Einträge. Die Paginierung ist idealerweise so zu implementieren, dass
sich das Hinzukommen oder Entfernen von Einträgen möglichst nicht auf
einen Client auswirkt, der aktuell die Liste paginiert, um alle Einträge
abzurufen. Wir bezeichnen dies als \textbf{stabile Paginierung}.

Eine wesentliche Anforderung an Listen mit Paginierung ist, dass alle
Einträge der Liste in einer konstistenten Reihenfolge sortiert
ausgegeben werden SOLLEN. Das bedeutet, dass die Sortierung beim Server
im Idealfall anhand einer eindeutigen und unveränderlichen
Objekteigenschaft vorgenommen wird. Hierfür eignen sich die Objekt-URLs,
da sie genau diese beiden Anforderungen erfüllen sollten.

Über die Sortierung hinaus können bei der Implementierung einer stabilen
Paginierung auf Server-Seite weitere Überlegungen einbezogen werden. Zur
Verdeutlichung soll hier eine ungünstige (unstabile) Form der
Implementierung mit Hilfe einer SQL-Abfrage illustriert werden. Gegeben
sei eine Tabelle \texttt{example}, die einen numerischen Primärschlüssel
\texttt{id} enthält. Nehmen wir an, die erste Seite der Liste wird mit
der Abfrage

\hyperdef{}{objektlistenux5fex3}{\label{objektlistenux5fex3}}
\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{SELECT} \NormalTok{* }\KeywordTok{FROM} \NormalTok{example }\KeywordTok{ORDER} \KeywordTok{BY} \KeywordTok{id} \KeywordTok{LIMIT} \DecValTok{10} \NormalTok{OFFSET }\DecValTok{0}
\end{Highlighting}
\end{Shaded}

abgerufen und würde 10 Datensätze mit den \texttt{id}s 1 bis 10 zurück
liefern. Dann wird die zweite Seite mit der Abfrage

\hyperdef{}{objektlistenux5fex4}{\label{objektlistenux5fex4}}
\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{SELECT} \NormalTok{* }\KeywordTok{FROM} \NormalTok{example }\KeywordTok{ORDER} \KeywordTok{BY} \KeywordTok{id} \KeywordTok{LIMIT} \DecValTok{10} \NormalTok{OFFSET }\DecValTok{10}
\end{Highlighting}
\end{Shaded}

abgerufen. Sollte nach der ersten, aber vor der zweiten Abfrage
beispielsweise der Datensatz mit der \texttt{id=1} gelöscht worden sein,
liefert die zweite Abfrage Datensätze mit \texttt{id} \textgreater{} 9.
In diesem Fall würde dies nur dazu führen, dass ein Datensatz
(\texttt{id=10}) zweimal ausgegeben wird. Bei ungünstigeren
Konstellationen wäre auch denkbar, dass eine unstabile Paginierung
bewirkt, dass einzelne Datensätze beim Paginieren übergangen werden.

Besser wäre es, bei der Paginierung die Eintragsgrenze, bei der eine
Listenseite beginnen soll, explizit zu benennen. Wurden auf der ersten
Listenseite die Datensätze mit den IDs 1 bis 10 ausgegeben, so könnte
der Folgeaufruf, um beim SQL-Beispiel zu bleiben, so aussehen:

\hyperdef{}{objektlistenux5fex5}{\label{objektlistenux5fex5}}
\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{SELECT} \NormalTok{* }\KeywordTok{FROM} \NormalTok{example }\KeywordTok{WHERE} \KeywordTok{id} \NormalTok{> }\DecValTok{10} \KeywordTok{ORDER} \KeywordTok{BY} \KeywordTok{id} \KeywordTok{LIMIT} \DecValTok{10}
\end{Highlighting}
\end{Shaded}

Die zuvor beschriebenen Anforderungen für die Paginierung von Listen
gelten auch unverändert, wenn der Umfang der Liste durch
Abfrageparameter vom Client eingeschränkt wurde.

\subsubsection{Listen als Eigenschaften von
Objekten}\label{listen-als-eigenschaften-von-objekten}

Listen von Objekten können auch als Werte von Objekteigenschaften
auftreten. Hierbei kann die oben beschriebene Paginierung nicht
angewendet werden, sondern es MÜSSEN die URLs aller Listeneinträge
aufgelistet werden.

Ein Beispiel dafür könnte die Eigenschaft \texttt{bodies} des
\texttt{oparl:System} Objekts sein, also die Liste der Körperschaften,
die auf einem OParl-Server abgebildet werden:

\hyperdef{}{objektlistenux5fex6}{\label{objektlistenux5fex6}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:System"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"bodies"}\NormalTok{: [}
        \StringTok{"https://oparl.beispielris.de/bodies/1"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/bodies/2"}
    \NormalTok{],}
    \ErrorTok{...}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Diese Listenausgabe direkt im Objekt ist nur zu empfehlen, wenn die
Anzahl der Einträge klein (weniger als 100 Einträge) ist. Sind mehr
Einträge zu erwarten, SOLL die entsprechende Liste über eine eigene URL
angeboten werden.

Das folgende Beispiel verdeutlicht, wie dies die Eigenschaft
\texttt{bodies} am vorangegangenen Beispiel beeinflusst:

\hyperdef{}{objektlistenux5fex6}{\label{objektlistenux5fex6}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:System"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"bodies"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/"}
    \ErrorTok{...}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Statt einer JSON-Liste ist der Wert der Eigenschaft nun eine einzige
URL.\footnote{Wie in vielen anderen Fällen ist diese URL hier wieder nur
  beispielhaft. Die tatsächliche Gestaltung des Pfads bestimmt der
  Server-Implementierer.}

\hyperdef{}{feeds}{\subsection{Feeds}\label{feeds}}

Feeds sind spezielle Arten von \hyperref[objektlisten]{Objektlisten},
für die besondere Anforderungen gelten. Es werden drei verschiedene
Feeds spezifiziert:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  Der Feed \emph{Neue Objekte}
\item
  Der Feed \emph{Geänderte Objekte}
\item
  Der Feed \emph{Entfernte Objekte}
\end{itemize}

Der Begriff ``Feed'' ist eine Anlehnung an die weit verbreiteten
RSS-\footnote{RSS 2.0 Specification:
  \url{http://cyber.law.harvard.edu/rss/rss.html}} oder
Atom-Feeds\footnote{Atom ist in RFC4287 spezifiziert:
  \url{http://www.ietf.org/rfc/rfc4287.txt}}, deren Publikationslogik im
Wesentlichen auf der chronologischen Sortierung beruht. Im Unterschied
zu Atom oder RSS ist hier jedoch keine XML-Ausgabe beabsichtigt.

Die Feeds sollen es Clients ermöglichen, schnell und ressourcenschonend
abzufragen, welche Objekte auf dem Server neu hinzugefügt, geändert oder
entfernt wurden. Damit können Clients beispielsweise schnell und einfach
neue Dokumente auffinden und verarbeiten oder entfernte Objekte aus
ihren Caches entfernen und dabei nur ein Mindestmaß an Anfragen
ausführen.

Ein OParl-Server SOLL jeden der nachfolgend beschriebenen Feeds
anbieten, sofern möglich.

Für alle drei Feeds wird EMPFOHLEN, dass mindestens ein Zeitraum von 365
Tagen abgedeckt wird.

Da Feeds üblicherweise eine große und stetig steigende Anzahl von
Objekten beinhalten können, ist hier die
\hyperref[paginierung]{Paginierung} anzuwenden, wie sie im vorigen
Abschnitt über \hyperref[objektlisten]{Objektlisten} beschrieben wird.

\hyperdef{}{feedux5fneueux5fobjekte}{\subsubsection{Der Feed ``Neue
Objekte''}\label{feedux5fneueux5fobjekte}}

Der Feed für neue Objekte listet die URLs neu hinzugekommener Objekte in
der Reihenfolge des Datums ihrer Erstellung, wobei die jüngsten Objekte
zuerst ausgegeben werden.

Die Definition, was ein ``neues'' Objekt bzw. die ``Erstellung''
bedeutet, kann zwischen Systemen und Objekttypen variieren. So werden
bestimmte Objekte in einigen Systemen zunächst erstellt und erst dann
für die Öffentlichkeit freigegeben. In diesem Fall ist im Sinne dieses
Feeds die Freigabe als Zeitpunkt der Erstellung zu verwenden.

Der Feed SOLL sämtliche Objekttypen umfassen, die in einem System
geführt werden.

Das nachstehende Beispiel zeigt die mögliche Ausgabe des Feeds:

\hyperdef{}{feedux5fex1}{\label{feedux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"items"}\NormalTok{: [}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/21/documents/3"}\NormalTok{,}
            \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2014-01-07T12:59:01.038+0100"}
        \NormalTok{\},}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/21"}\NormalTok{,}
            \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2014-01-05T18:29:37.123+0100"}
        \NormalTok{\},}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/20/documents/5"}\NormalTok{,}
            \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2014-01-04T11:26:48.638+0100"}
        \NormalTok{\},}
        \ErrorTok{...}
    \NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Wie im Beispiel zu sehen ist, enthält die Eigenschaft \texttt{items}
eine Liste mit unbenannten Objekten. Dies ist ein Unterschied zu
herkömmlichen Objektlisten, bei denen an dieser Stelle lediglich URLs
als Listeneinträge erwartet werden.

Jedes der Objekte in der \texttt{items}-Liste MUSS seinerseits wiederum
zwei Eigenschaften besitzen:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  \texttt{@id}: Die URL des neuen Objekts
\item
  \texttt{created}: Der Zeitpunkt der Erzeugung des Objekts
\end{itemize}

Der jeweils in der Eigenschaft \texttt{created} ausgegebene Zeitpunkt
SOLL vom Server als Sortierkriterium der Liste genutzt werden. So können
Clients den jeweils am Anfang der Liste vorgefundenen Zeitpunkt als
Begrenzung für die zukünftige Abfrage des Feeds nutzen. Ein Beispiel zur
Erläuterung:

Am 1. April 2014 ruft ein Client den Feed ab und findet im ersten
Listeneintrag den \texttt{created}-Zeitpunkt
\texttt{2014-03-31T18:02:34.058+0200} vor, den er sich als Grenzwert
merkt. Beim nächsten Abruf des Feeds einige Tage später muss der Client
die Liste nur so weit abarbeiten, so lange der
\texttt{created}-Zeitpunkt der Einträge größer oder gleich dem Grenzwert
ist.

\hyperdef{}{feedux5fgeaenderteux5fobjekte}{\subsubsection{Der Feed
``Geänderte Objekte''}\label{feedux5fgeaenderteux5fobjekte}}

Der Feed für geänderte Objekte listet die URLs geänderter Objekte in der
Reihenfolge des Datums ihrer Änderung, wobei das zuletzt geänderte
Objekt zuerst ausgegeben wird.

Die Definition einer ``Änderung'' kann sich zwischen den Objekttypen
unterscheiden. Tendenziell soll die Definition eher weiter ausgelegt
werden, als enger. Als Änderung einer Organisation könnte es
beispielsweise verstanden werden, wenn ein neues Mitglied zur
Organisation hinzukommt. Das Erstellen eines Objekts (im Sinne des Feeds
``Neue Objekte'') sollte hingegen nicht als Änderung gewertet werden, um
das redundante Erscheinen eines neuen Objekts sowohl im Feed ``Neue
Objekte'' als auch im Feed ``Geänderte Objekte'' zu vermeiden.

Auch hier SOLL der Feed sämtliche Objekttypen umfassen, die in einem
System geführt werden.

\hyperdef{}{feedux5fex2}{\label{feedux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"items"}\NormalTok{: [}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/0/documents/2"}\NormalTok{,}
            \DataTypeTok{"lastModified"}\NormalTok{: }\StringTok{"2014-01-08T14:28:31.568+0100"}
        \NormalTok{\},}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/0"}\NormalTok{,}
            \DataTypeTok{"lastModified"}\NormalTok{: }\StringTok{"2014-01-08T12:14:27.958+0100"}
        \NormalTok{\},}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/papers/0/documents/1"}\NormalTok{,}
            \DataTypeTok{"lastModified"}\NormalTok{: }\StringTok{"2014-01-06T17:01:00.402+0100"}
        \NormalTok{\},}
        \ErrorTok{...}
    \NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das Ausgabeformat entspricht weitgehend dem des Feeds ``Neue Objekte'',
jedoch heißt hier die Eigenschaft für den Zeitpunkt der letzten Änderung
\texttt{lastModified}. Auch hier gilt, dass der als
\texttt{lastModified} ausgegebene Zeitpunkt auch als Sortierkriterium
der Liste gelten SOLL.

\hyperdef{}{feedux5fentfernteux5fobjekte}{\subsubsection{Der Feed
``Entfernte Objekte''}\label{feedux5fentfernteux5fobjekte}}

Der Feed für entferne Objekte listet die URLs entfernter Objekte in der
Reihenfolge des Datums ihrer Entfernung auf, wobei die zuletzt
entfernten Objekte zuerst ausgegeben werden.

Mit ``Entfernung'' ist im Sinne dieses Feeds die Löschung eines Objekts,
aber auch die Depublikation oder das Beenden der öffentlichen
Verfügbarkeit gemeint.

Client-Implementierer sind angehalten, diesen Feed zu nutzen, um
beispielsweise depublizierte Dokumente aus ihren lokalen Caches zu
entfernen.

\hyperdef{}{feedux5fex3}{\label{feedux5fex3}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"items"}\NormalTok{: [}
        \NormalTok{\{}
            \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/0/people/22"}\NormalTok{,}
            \DataTypeTok{"removed"}\NormalTok{: }\StringTok{"2013-11-11T11:11:00.000+0100"}
        \NormalTok{\},}
        \ErrorTok{...}
    \NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Die Eigenschaft zur Angabe des Entfernungszeitpunkts heißt hier
\texttt{removed} und SOLL, analog zu den beiden anderen Feeds, als
Sortierkriterium der Liste verwendet werden.

\hyperdef{}{dateizugriff}{\subsection{Dateizugriff}\label{dateizugriff}}

Mit dem Begriff ``Datei'' sind im Sinne dieser Spezifikation alle
Ressourcen gemeint, die von einem OParl-Server zur Verfügung gestellt
werden und deren Metadaten über die JSON-API als
\texttt{{[}oparl:Document{]}(\#oparl\_document)} abgerufen werden
können. Es handelt sich dabei beispielsweise um Textdokumente im
PDF-Format, Abbildungen im JPEG- oder PNG etc., die wesentliche Inhalte
der parlamentarischen Informationen im OParl-System ausmachen.

In Bezug auf die Datenvolumen, die der Verkehr zwischen OParl Servern
und Clients ausmacht, kommt dem Dateizugriff eine besondere Bedeutung
zu. Daher formuliert OParl diesbezüglich einige Anforderungen, die
helfen sollen, unnötigen Datentransfer zu vermeiden.

Detail zu sämtlichen angesprochenen Mechanismen sind in der
HTTP-1.1-Spezifikation\footnote{vgl.
  \url{http://www.w3.org/Protocols/rfc2616/rfc2616.html}} zu finden.

\subsubsection{GET und HEAD Anfragen}\label{get-und-head-anfragen}

Grundsätzlich gilt, dass jede Datei mittels HTTP-Anfrage unter
Verwendung der HTTP-Methode \texttt{GET} abrufbar sein MUSS. Um Clients
zusätzlich die Überprüfung einer Datei zu ermöglichen, MUSS vom Server
außerdem die HTTP-Methode \texttt{HEAD} unterstützt werden. Gemäß
HTTP-Spezifikation gibt der Server in diesem Fall nur die
Antwort-Header, nicht aber den eigentlichen Inhalt der angefrgten
Ressource, aus.

Die URLs zum Abruf der einzelnen Datei (wahlweise mittels GET oder HEAD)
stellt der Server dem Client in den Daten des Metadaten-Objekts zur
Verfügung. Details finden sich in der Schema-Beschreibung zu
\texttt{{[}oparl:Document{]}(\#oparl\_document)}.

\subsubsection{Allgemeiner Zugriff und expliziter
Download}\label{allgemeiner-zugriff-und-expliziter-download}

Mit der im \texttt{oparl:Document} ZWINGEND anzugebenden Eigenschaft
\texttt{accessUrl} liefert der Server dem Client eine URL, die wir hier
nachfolgend als \emph{Zugriffs-URL} bezeichnen. Diese URL dient dem
allgmeinen Zugriff auf die Datei. Wie der Client dem Endnutzer diesen
Zugriff genau ermöglicht, ist nicht Sache der OParl-Spezifikation.

Im Unterschied dazu KANN der Server dem Client in der Eigenschaft
\texttt{downloadUrl} eine weitere URL anbieten, hier \emph{Download-URL}
genannt. Diese dient im Gegensatz zur Zugriffs-URL speziell zum
Herunterladen und Speichern der Datei in einem Dateisystem des
Endnutzers. Bei Zugriff auf die Download-URL MUSS der Server in der
HTTP-Antwort einen \texttt{Content-Disposition} Header senden.\footnote{vgl.
  RFC2138 \url{http://www.ietf.org/rfc/rfc2183}} Dieser Header MUSS als
ersten Parameter den Typ \texttt{attachment} sowie den
\texttt{filename}-Parameter mit dem Namen der Datei enthalten.

Beispiel:

\begin{verbatim}
Content-Disposition: attachment; filename="2014-08-22 Rat Wortprotokoll.pdf"
\end{verbatim}

Der in diesem Header kommunizierte Dateiname ist als Vorschlag an die
Nutzerin zu verstehen, die Datei unter diesem Namen zu speichern.
Entsprechend sind Abwägungen bezüglich der Verständlichkeit,
Leserlichkeit und Einzigartigkeit des Dateinamens, aber auch in Hinblick
auf den verwendeten Zeichenumfang zu berücksichtigen. Es wird EMPFOHLEN,
den Dateinamen ausschließlich aus dem ASCII-Zeichenvorrat zu bilden.

Im Unterschied zum Zugriff auf die Download-URL DARF der Server beim
Zugriff auf die Zugriffs-URL KEINEN \texttt{Content-Disposition} Header
mit Parameter \texttt{attachment} senden.

\subsubsection{Obligatorische und empfohlene
Header}\label{obligatorische-und-empfohlene-header}

Ziel ist, dem Client möglichst flexible Möglichkeiten zu geben, einen
Cache zu überprüfen bzw. zu aktualisieren und vermeidbare Anfragen einer
Ressource zu vermeiden. Um dies zu unterstützen, können laut
HTTP-Spezifikationen unterschiedliche Header zum Einsatz kommen.

Die Auslieferung eines \texttt{Last-Modified}-Headers gilt für alle
OParl-Server beim Zugriff auf eine Datei-URL, sei es Download- oder
Zugriffs-URL, als ZWINGEND.

Darüber hinaus EMPFEHLEN wir, bei Anfrage einer Datei die folgenden
Header auszuliefern:

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  \texttt{Content-Length}: Die Größe des Dateiinhalts
\item
  \texttt{ETag}: Entity Tag
\end{itemize}

\subsubsection{Conditional GET}\label{conditional-get}

Unter einem ``Conditional GET'' versteht man im HTTP-Kontext die
Möglichkeit des Clients, die Anfrage einer Ressource mit einer Bedingung
zu verknüpfen. Der Server beantwortet die Anfrage nur dann mit einer
vollständigen HTTP-Antwort, wenn die Bedingung erfüllt ist. Andernfalls
enthält die Anfrage lediglich Header, der HTTP Status-Code SOLL in
diesem Fall ``304'' lauten (für ``nicht geändert''). Dies dient der
Schonung von Ressourcen.

Für einen OParl-Server wird EMPFOHLEN, die nachstehenden Varianten des
Conditional GET zu unterstützen:

\begin{itemize}
\item
  \texttt{If-Modified-Since}: Der Client sendet mit der Anfrage als
  Bedingung ein Datum. Nur wenn die angefragte Datei zuletzt \emph{nach}
  diesem Datum geändert wurde, wird der Dateiinhalt mit der Antwort
  ausgeliefert.
\item
  \texttt{If-None-Match}: Erlaubt die Formulierung der Bedingung anhand
  eines Entity-Tags.
\end{itemize}

\subsubsection{Zustandsloser
Dateizugriff}\label{zustandsloser-dateizugriff}

Die Anforderung, dass die OParl API zustandslos arbeitet (vgl.
\hyperref[restful]{RESTful}\{\#restful\}), hat ZWINGEND auch für den
Abruf von Dateien zu gelten. Es DÜRFEN daher keine Session-spezifischen
URLs oder ähnliches für den Dateizugriff gebildet werden.

Damit wird erreicht, dass Clients die Zugriffs-URLs aus dem
\texttt{oparl:Document} für längere Zeit speichern bzw. cachen können

\subsubsection{Weiterleitungen}\label{weiterleitungen}

Es ist im Rahmen dieser Spezifikation problemlos möglich, die Anfrage an
eine Datei-URL mit einer HTTP-Weiterleitung zu beantworten, um dem
Client eine andere URL zum Zugriff mitzuteilen.

In diesem Fall wird dringend EMPFOHLEN, die Unterscheidung der Bedeutung
der HTTP-Status-Codes \texttt{301} und \texttt{307} zu beachten.

\begin{itemize}
\item
  \texttt{301} SOLL verwendet werden, wenn die vom Client angefragte URL
  auch zukunftig nicht mehr gültig sein wird. Clients erhalten damit das
  Signal, die bisherige URL zu verwerfen und zukünftig die neue, vom
  Server in der Antwort mitgeteilte zu verwenden.
\item
  \texttt{307} SOLL verwendet werden, wenn die vom Client genutzte URL
  nur temporär auf eine bestimmte andere URL weiter leitet. Clients
  werden so aufgefordert, die vorhandene URL auch bei zukünftigen
  Anfragen zu nutzen.
\end{itemize}

\subsubsection{Entfernte Dateien}\label{entfernte-dateien}

Beim Zugriff auf eine Datei, die zuvor einmal abrufbar war, es
inzwischen jedoch nicht mehr ist, SOLL die HTTP-Antwort des Servers den
spezifischen Status-Code \texttt{410} tragen.

\subsection{Ausnahmebehandlung}\label{ausnahmebehandlung}

TODO:

(Diskussion hierzu unter https://github.com/OParl/specs/issues/89)

\subsection{Liste reservierter
URL-Parameter}\label{liste-reservierter-url-parameter}

Die in dieser Liste enthaltenen Zeichenketten haben eine reservierte
Bedeutung und stehen bei Implementierungen eines OParl-Servers nicht
mehr für die freie Verwendung in URLs zur Verfügung.

\begin{description}
\itemsep1pt\parskip0pt\parsep0pt
\item[callback:]
Mit diesem Parameter wird die JSONP-Ausgabe aktiviert. Mehr dazu im
Abschnitt \hyperref[jsonp]{JSONP}.
\item[startdate:]
Parameter für die Einschränkung einer Abfrage anhand eines Datums bzw.
einer Zeitangabe.
\item[enddate:]
Parameter für die Einschränkung einer Abfrage anhand eines Datums bzw.
einer Zeitangabe.
\end{description}

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  (Parameter für Datums-/Zeitbereichsfilter)
\end{itemize}

\section{Schema}\label{schema}

Dieses Kapitel beschreibt das Schema von OParl. Das Schema bildet das
Datzenmodell der OParl-Architektur ab. Es definiert, welche Objekttypen
über eine OParl-API abgerufen werden können und welche Eigenschaften
diese Objekttypen haben dürfen und müssen. Darüber hinaus ist im Schema
auch festgelegt, in welcher Beziehung verschiedene Objekttypen zu
einander stehen.

\subsection{Übergreifende Aspekte}\label{uxfcbergreifende-aspekte}

\subsubsection{Unicode-Zeichenketten als
Standard}\label{unicode-zeichenketten-als-standard}

Wenn in der nachfolgenden Schema-Beschreibung nicht anders angegeben,
werden bei den Werten grundsätzlich Unicode-Zeichenketten (Strings)
erwartet.

\subsubsection{null-Werte}\label{null-werte}

JSON erlaubt es grundsätzlich, dass Eigenschaften den Wert \texttt{null}
haben können. Im Rahmen dieser Spezifikation DARF das jedoch nur bei
Eigenschaften der Fall sein, die als OPTIONAL oder EMPFOHLEN
gekennzeichnet sind. ZWINGENDE Eigenschaften müssen einen Wert ungleich
\texttt{null} besitzen.

\subsubsection{Datums- und Zeitangaben}\label{datums--und-zeitangaben}

Für Datum und Zeit werden die in XML Schema festgelegten Typen verwendet
(was nicht bedeutet, dass in OParl XML verwendet wird).

Für ein Datum wird http://www.w3.org/TR/xmlschema-2/\#date verwendet und
für eine Zeit http://www.w3.org/TR/xmlschema-2/\#dateTime. Dabei wird
ein Datum (ein Tag ohne Uhrzeit) ohne Zeitzone und ein Datum mit Zeit
mit Zeitzone angegeben, denn nur damit ist die Uhrzeit weltweit
eindeutig ohne zusätzlich auf den Ort einer Sitzung o.ä. Bezug nehmen zu
müssen.

Diese Spezifikationen stützen sich auf RFC 3339
(http://www.ietf.org/rfc/rfc3339.txt) und RFC 3339 wiederum auf ISO
8601.

Im JSON-LD Kontext von OParl ist der Präfix `xsd' so spezifiziert, dass
Datums- und Zeittyp durch `xsd:date' bzw. `xsd:dateTime' abgekürzt
werden können.

\subsubsection{Mehrsprachigkeit}\label{mehrsprachigkeit}

Für Texte ist durchgehend vorgesehen, dass diese mehrsprachig sein
können. Kommunale Anbieter von OParl-Daten in Deutchland müssen aus
gesetzlichen Gründen auf jeden Fall die deutsche Sprache unterstützten.
Die Unterstützung anderer Sprachen ist dagegen optional. Deshalb wird
grundsätzich durch
\textsubscript{\textasciitilde{}}\textasciitilde{}\textasciitilde{}
``@language'': ``de'',
\textsubscript{\textasciitilde{}}\textasciitilde{}\textasciitilde{} im
Kontext die deutsche Sprache als Vorgabe eingestellt.

Es gibt aber möglicherweise auch Zeichenketten, für die keine
Mehrsprachigkeit vorgesehen wird. Dazu gehören z.B. Personennamen.

TODO: Stimmt nicht. Tamilische Namen verwenden in der
Originalschreibweise sogar ein vollkommen anderes Alphabet.

\subsubsection{Präfixe in Kontexten}\label{pruxe4fixe-in-kontexten}

Die Beispiel-Kontexte verwenden eine Reihe von Präfixen. Diese sind hier
zusammengestellt und werden in den einzelnen Beispiel-Kontexten nicht
jeweils wiederholt:

\hyperdef{}{pcontextux5fpraefixe}{\label{pcontextux5fpraefixe}}
\begin{Shaded}
\begin{Highlighting}[]
    \ErrorTok{"beispielris":} \ErrorTok{"https://oparl.beispielris.de",}
    \ErrorTok{"oparl":} \ErrorTok{"http://oparl.org/TODO/",}
    \ErrorTok{"dc":} \ErrorTok{"http://purl.org/dc/terms/",}
    \ErrorTok{"foaf":} \ErrorTok{"http://xmlns.com/foaf/0.1/",}
    \ErrorTok{"skos":} \ErrorTok{"http://www.w3.org/2004/02/skos/core#",}
    \ErrorTok{"vcard":} \ErrorTok{"http://www.w3.org/2006/vcard/ns#",}
    \ErrorTok{"xsd":} \ErrorTok{"http://www.w3.org/2001/XMLSchema#",}
    \ErrorTok{"ogc":} \ErrorTok{"http://www.opengis.net/ont/geosparql#",}
\end{Highlighting}
\end{Shaded}

\subsubsection{Herstellerspezifische
Erweiterungen}\label{herstellerspezifische-erweiterungen}

Diese sind - falls tatsächlich erforderlich - mit den JSON-LD Mitteln
einfach möglich. z.B.

\begin{verbatim}
"herstellera:newWonderProperty": "Dies ist ein Feature
    welches noch kein anderer Hersteller bietet!"
\end{verbatim}

\subsubsection{URL-Pfade in den
Beispielen}\label{url-pfade-in-den-beispielen}

OParl-Clients wissen \emph{nichts} vom Aufbau von Pfaden innerhalb von
URLs, müssen dies nicht wissen und es gibt deshalb in der
OParl-Spezifikation \emph{keine} Festlegungen dazu.

Wenn der Betreiber eines OParl-Systems beispielsweise meint, dass eine
Person eine eigene Domain verdient, dann ist dies aus Sicht der
OParl-Spezifikation völlig in Ordnung:

\begin{verbatim}
https://ratsmitglied-max-mustermann.beispielris.de/mein-oparl-datensatz
\end{verbatim}

Noch etwas extremer: selbst eine eigene Domain für jedes einzelne
OParl-Objekt würde der OParl-Spezifikation nicht widersprechen.

Wenn also in einer Beispiel-URL so etwas wie

\begin{verbatim}
bodies/0/peoples/
\end{verbatim}

auftaucht, dann bedeutet das nicht, dass genau solche Pfade durch die
OParl-Spezifikation vorgeschrieben sind.

Auch dies wäre als absoluter Link z.B. für eine Person verwendbar:

\begin{verbatim}
https://www.ratsinfomanagement.net/personen/?__=LfyIfvCWq8SpBQj0MiyHaxDZwGJ
\end{verbatim}

Dies käme dann als relativer Link für die Person in Frage:

\begin{verbatim}
personen/?__=LfyIfvCWq8SpBQj0MiyHaxDZwGJ
\end{verbatim}

oder auch z.B. dies
\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{\textsubscript{
LfyIfvCWq8SpBQj0MiyHaxDZwGJ }}}}}}}}}}

Gleichzeitig ist aber aus verschiedenen Gründen ein strukturierter
Aufbau der Pfade durchaus sinnvoll, der sich an der Hierarchie der
Objekte orientiert (nicht zuletzt, weil dies Softwareentwicklern während
der Entwicklung helfen kann). Dennoch wird eine solche Struktur bewusst
nicht in OParl festgelegt.

\subsection{Eigenschaften mit Verwendung in mehreren
Objekttypen}\label{eigenschaften-mit-verwendung-in-mehreren-objekttypen}

\subsubsection{\texttt{@id}}\label{id}

URL des Objekts und eindeutiges Identifikationsmerkmal. Siehe dazu auch
``Benannte Objekte''. Dies ist ein ZWINGENDES Merkmal für jedes Objekt.

\subsubsection{\texttt{@type}}\label{type}

Objekttypenangabe des Objekts. ZWINGEND für jedes Objekt.

\subsubsection{\texttt{name} und
\texttt{nameLong}}\label{name-und-namelong}

Beide Eigenschaften können bei vielen Objekttypen genutzt werden, um den
nutzerfreundlichen Namen des Objekts anzugeben. Üblicherweise ist
\texttt{name} eine Pflichteigenschaft, während nameLong optional
angegeben werden kann. Dies ist dann zu empfehlen, wenn zu einem Namen
eine kurze bzw. kompakte und eine längere, aber weniger
nutzerfreundliche Variante existieren. Ein Beispiel wäre die Kurzform
``CDU'' für den Parteinamen ``Christlich Demokratische Union
Deutschlands''.

In keinem Fall sollten die Werte von \texttt{name} und \texttt{nameLong}
identische sein.

\subsubsection{\texttt{license}}\label{license}

Die Eigenschaft \texttt{license} erlaubt es, am jeweiligen Objekt die
URL einer Lizenz anzugeben. Damit wird gekennzeichnet, welche Lizenz der
Veröffentlicher der Daten für das jeweilige Objekt vergibt.\footnote{Verzeichnisse
  für Lizenz-URLs sind unter anderem unter
  \url{http://licenses.opendefinition.org/} und
  \url{https://github.com/fraunhoferfokus/ogd-metadata/blob/master/lizenzen/deutschland.json}
  zu finden.}

Eine besondere Bedeutung hat die Eigenschaft \texttt{license}, wenn sie
am \texttt{oparl:System} Objekt oder am \texttt{oparl:Body} Objekt
vergeben wird. Die hier angegebene Lizenzinformation sagt aus, dass alle
Objekte dieses Systems bzw. der Körperschaft unter der angegebenen
Lizenz veröffentlicht werden, sofern dies nicht am jeweiligen Objekt mit
einer anders lautenden Lizenz-URL überschrieben wird. Daher wird
dringend EMPFOHLEN, die Lizenzinformation global am
\texttt{oparl:System} Objekt mitzuteilen und auf redundante
Informationen zu verzichten.

An Objekten vom Typ \texttt{oparl:Document} auftretend, bezieht sich die
Lizenzinformation nicht nur auf die strukturierten Metadaten, die über
die API bezogen werden, sondern auch auf den eigentlichen Inhalt der
Dateien, die über die angebotene(n) URL(s) abgerufen werden können.

Lesenswert zum Thema Lizensierung von Linked Data ist auch er Abschnitt
``Licenses, Waivers and Norms for Data'' im online zugänglichen Linked
Data Book.\footnote{Tom Heath, Christian Bizer: Linked Data: Evolving
  the Web into a Global Data Space (1st edition),
  \url{http://linkeddatabook.com/editions/1.0/\#htoc48}}

\subsubsection{\texttt{created}}\label{created}

Datum und Uhrzeit der Erstellung des jeweiligen Objekts.

\subsubsection{\texttt{modified}}\label{modified}

Diese Eigenschaft kennzeichnet stets Datum und Uhrzeit der letzten
Änderung des jeweiligen Objekts.

In Einzelfällen unterliegt die Frage, was als Änderung eines Objekts
bezeichnet werden kann, einem gewissen Interpretationsspielraum.
Beispielsweise ist zu entscheiden, ob eine Gruppierung
(\texttt{oparl:Organization}) als geändert gilt, wenn ein neues Mitglied
hinzugefügt wurde.

Diese Frage sollte aus Sicht des OParl-Clients beantwortet werden. Wenn
beispielsweise eine Gruppierung vom Server grundsätzlich mit der Liste
der URLs aller Mitglieder ausgegeben wird, umfasst das Objekt aus Sicht
des Clients eben auch die Liste der Mitglieder. In diesem Fall wäre eine
Veränderung der Liste der Mitglieder als Änderung des Objekts zu
verstehen, die im \texttt{modified} Zeitstempel widerspiegeln sollte.

\subsubsection{\texttt{classification}}\label{classification}

Dient der Verschlagwortung und verweist dazu auf ein oder eventuell auch
mehrere \texttt{skos:Concept}-Objekte mit einer
\texttt{skos:prefLabel}-Eigenschaft. Der Wert der Eigenschaft ist
jeweils eine Zeichenkette. Die verwendete Sprache (in der Regel ``de''
für Deutsch) MUSS dabei angegeben werden.

TODO: SKOS darstellen

TODO: Beispiel

Siehe u.a.:

\begin{verbatim}
https://github.com/OParl/specs/issues/41
\end{verbatim}

Geoportal.de und DeStat.de werden bereits auf Basis von
Metadaten-Standards verlinkt. Bei einer Verwendung von
Metadaten-Standards für RIS könnten ebenfalls interessante Potenziale
durch Verlinkung entstehen. Der GovData-Metadaten-Standard z.B. kann
genutzt werden

\begin{verbatim}
http://htmlpreview.github.com/?https://github.com/fraunhoferfokus/ogd-metadata/blob/master/OGPD_JSON_Schema.html
\end{verbatim}

und die 14 GovData-Kategorien können dabei durch eine zusätzliche
Verschlagwortung auf Basis von Standard-Schlagwortkatalogen für RIS eine
Ergänzung erfahren ( LeiKa, Bremer-Katalog, DBpedia, RAMON).

Die 14 Werte des GovData-Metadaten-Standard sind bisher nicht als Linked
Data existent. TODO: eventuell können diese in OParl als
Schlagwort-\texttt{skos:Concept}-Objekte als nicht abschliessende Menge
von Schlagworten vorgegeben werden.

\subsection{oparl:System (System)}\label{oparlux5fsystem}

Der Objekttyp \texttt{oparl:System} bildet grundlegende Informationen
zum parlamentarischen Informationssystem ab. Das Objekt repräsentiert
das technische System, unabhängig von der Frage, welche Körperschaften
auf diesem System vertreten sind.

Ein Beispiel:

\hyperdef{}{systemux5fex1}{\label{systemux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:System"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"oparlVersion"}\NormalTok{: }\StringTok{"http://oparl.org/specs/1.0/"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Beispiel-System"}\NormalTok{,}
    \DataTypeTok{"website"}\NormalTok{: }\StringTok{"http://www.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"contactEmail"}\NormalTok{: }\StringTok{"mailto:info@beispielris.de"}\NormalTok{,}
    \DataTypeTok{"contactName"}\NormalTok{: }\StringTok{"Allgemeiner OParl Kontakt"}\NormalTok{,}
    \DataTypeTok{"vendor"}\NormalTok{: }\StringTok{"http://example-software.com/"}\NormalTok{,}
    \DataTypeTok{"product"}\NormalTok{: }\StringTok{"http://example-software.com/oparl-server/"}\NormalTok{,}
    \DataTypeTok{"bodies"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/bodies/"}\NormalTok{,}
    \DataTypeTok{"newObjects"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/new_objects/"}\NormalTok{,}
    \DataTypeTok{"updatedObjects"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/updated_objects/"}\NormalTok{,}
    \DataTypeTok{"removedObjects"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/removed_objects"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Ein Kontext:

\hyperdef{}{systemux5fexux5fcontext}{\label{systemux5fexux5fcontext}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}\NormalTok{,}
    \DataTypeTok{"beispielris"}\NormalTok{: }\StringTok{"https://oparl.eispielris.de/"}\NormalTok{,}
    \DataTypeTok{"oparl"}\NormalTok{: }\StringTok{"http://oparl.org/TODO/"}\NormalTok{,}
    \DataTypeTok{"dc"}\NormalTok{: }\StringTok{"http://purl.org/dc/terms/"}\NormalTok{,}
    \DataTypeTok{"foaf"}\NormalTok{: }\StringTok{"http://xmlns.com/foaf/0.1/"}\NormalTok{,}
    \DataTypeTok{"skos"}\NormalTok{: }\StringTok{"http://www.w3.org/2004/02/skos/core#"}\NormalTok{,}
    \DataTypeTok{"vcard"}\NormalTok{: }\StringTok{"http://www.w3.org/2006/vcard/ns#"}\NormalTok{,}
    \DataTypeTok{"xsd"}\NormalTok{: }\StringTok{"http://www.w3.org/2001/XMLSchema#"}\NormalTok{,}

    \DataTypeTok{"name"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"skos:prefLabel"}\NormalTok{,}
        \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"@id"}
    \NormalTok{\},}
    \DataTypeTok{"contactEmail"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"foaf:mbox"}\NormalTok{,}
        \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"@id"}
    \NormalTok{\},}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Und das System-Objekt in kompakter Form unter Verwendung des Kontext:

\hyperdef{}{systemux5fex2}{\label{systemux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:System"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"oparlVersion"}\NormalTok{: }\StringTok{"http://oparl.org/specs/1.0/"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Beispiel-System"}\NormalTok{,}
    \DataTypeTok{"website"}\NormalTok{: }\StringTok{"http://www.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"contactEmail"}\NormalTok{: }\StringTok{"mailto:info@beispielris.de"}\NormalTok{,}
    \DataTypeTok{"contactName"}\NormalTok{: }\StringTok{"Allgemeiner OParl Kontakt"}\NormalTok{,}
    \DataTypeTok{"vendor"}\NormalTok{: }\StringTok{"http://example-software.com/"}\NormalTok{,}
    \DataTypeTok{"product"}\NormalTok{: }\StringTok{"http://example-software.com/oparl-server/"}\NormalTok{,}
    \DataTypeTok{"bodies"}\NormalTok{: }\StringTok{"beispielris:bodies/"}\NormalTok{,}
    \DataTypeTok{"newObjects"}\NormalTok{: }\StringTok{"beispielris:new_objects/"}\NormalTok{,}
    \DataTypeTok{"updatedObjects"}\NormalTok{: }\StringTok{"beispielris:updated_objects/"}\NormalTok{,}
    \DataTypeTok{"removedObjects"}\NormalTok{: }\StringTok{"beispielris:removed_objects"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Auf jedem OParl Server MUSS ein Objekt vom Typ \texttt{oparl:System}
vorgehalten werden. Es DARF nur ein einziges solches Objekt je Server
existieren.

Für Clients ist das \texttt{oparl:System} Objekt ein geeigneter
Einstiegspunkt, um grundlegende Informationen über das Sytem zu bekommen
und die URLs zum Zugriff auf andere Informationen in Erfahrung zu
bringen.

Die URL des \texttt{oparl:System} Objekts MUSS per Definition identisch
mit der URL des API-Endpunkts des Servers sein.

\subsubsection{Eigenschaften}\label{eigenschaften}

\begin{description}
\item[\texttt{oparlVersion}]
Die URL der OParl-Spezifikation, die von diesem Server unterstützt wird.
Der Wert MUSS die URL \texttt{http://oparl.org/specs/1.0/} sein. Diese
Eigenschaft ist ZWINGEND.
\item[\texttt{bodies}]
Liste der URLs der
\hyperref[oparlux5fbody]{\texttt{oparl:Body}}-Objekte, also der
Körperschaften, die auf dem System vorliegen. Alternativ kann statt
einer Liste eine einzelne URL zum Abruf der Liste angeboten werden. Die
Eigenschaft ist ZWINGEND.
\item[\texttt{name}]
Nutzerfreundlicher Name für das System, mit dessen Hilfe Nutzer das
System erkennen und von anderen unterscheiden können. Diese Eigenschaft
wird EMPFOHLEN.
\item[\texttt{contactEmail}]
E-Mail-Adresse für Anfragen zur OParl-API. Diese Eigenschaft wird
EMPFOHLEN. Die Angabe einer E-Mail-Adresse dient sowohl NutzerInnen wie
auch EntwicklerInnen von Clients zur Kontaktaufnahme mit dem Betreiber.
\item[\texttt{contactName}]
Name des Ansprechpartners oder der Abteilung, die über die
\texttt{contactEmail} erreicht werden kann. Die Eigenschaft ist
EMPFOHLEN. Typ: Zeichenkette.
\item[\texttt{newObjects}]
URL des Feeds \hyperref[feedux5fneueux5fobjekte]{``Neue Objekte''}. Die
Eigenschaft ist EMPFOHLEN.
\item[\texttt{updatedObjects}]
URL des Feeds \hyperref[feedux5fgeaenderteux5fobjekte]{``Geänderte
Objekte''}. Die Eigenschaft ist EMPFOHLEN.
\item[\texttt{removedObjects}]
URL des Feeds \hyperref[feedux5fentfernteux5fobjekte]{``Entfernte
Objekte''}. Die Eigenschaft ist EMPFOHLEN.
\item[\texttt{website}]
URL zur WWW-Oberfläche des parlamentarischen Informationssystem. Diese
Eigenschaft ist OPTIONAL.
\item[\texttt{vendor}]
URL des Software-Anbieters, von dem die OParl-Server-Software stammt.
Diese Eigenschaft ist OPTIONAL.
\item[\texttt{product}]
URL mit Informationen zu der auf dem System genutzten
OParl-Server-Software. Diese Eigenschaft ist OPTIONAL.
\end{description}

\hyperdef{}{oparlux5fbody}{\subsection{oparl:Body
(Körperschaft)}\label{oparlux5fbody}}

Der Objekttyp \texttt{oparl:Body} dient dazu, eine Körperschaft und
damit ein Parlament zu repräsentieren, zu dem der Server Informationen
bereithält. Eine Körperschaft kann beispielsweise eine Gemeinde, ein
Landkreis oder ein kommunaler Zweckverband sein.

Hätte das System beispielsweise den Zweck, Informationen über das
kommunale Parlament der Stadt Köln, namentlich den Rat der Stadt Köln,
abzubilden, dann müsste dieses System dazu ein Objekt vom Typ
\texttt{oparl:Body} führen, welches die Stadt Köln repräsentiert.

Ein Kontext:

\begin{verbatim}
{
    "@language": "de",
    "license": {
        "@id": "dc:license",
        "@type": "@id"
    },
    "exactMatch": {
        "@id": "skos:exactMatch",
        "@type": "@id"
    }
    "licenseValidSinceDay": // TODO: datum
}
\end{verbatim}

Ein expandiertes Beispiel:

\hyperdef{}{oparlbodyux5fex1}{\label{oparlbodyux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/Body"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0"}\NormalTok{,}
    \DataTypeTok{"system"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/"}\NormalTok{,}
    \DataTypeTok{"contactEmail"}\NormalTok{: }\StringTok{"mailto:ris@beispielstadt.de"}\NormalTok{,}
    \DataTypeTok{"contactName"}\NormalTok{: }\StringTok{"RIS-Betreuung"}\NormalTok{,}
    \DataTypeTok{"rgs"}\NormalTok{: }\StringTok{"053150000000"}\NormalTok{,}
    \DataTypeTok{"equivalentBody"}\NormalTok{: [}
        \StringTok{"http://d-nb.info/gnd/2015732-0"}\NormalTok{,}
        \StringTok{"http://dbpedia.org/resource/Cologne"}
    \NormalTok{],}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Stadt Köln"}\NormalTok{,}
    \DataTypeTok{"nameLong"}\NormalTok{: \{}
        \DataTypeTok{"de"}\NormalTok{: }\StringTok{"Stadt Köln, kreisfreie Stadt"}\NormalTok{,}
        \DataTypeTok{"en"}\NormalTok{: }\StringTok{"City of Cologne"}
    \NormalTok{\}}
    \StringTok{"website"}\ErrorTok{:} \StringTok{"http://www.beispielstadt.de/"}\NormalTok{,}
    \DataTypeTok{"license"}\NormalTok{: }\StringTok{"http://creativecommons.org/licenses/by/4.0/"}\NormalTok{,}
    \DataTypeTok{"licenseValidSinceDay"}\NormalTok{: }\StringTok{"2014-01-01"}\NormalTok{,}
    \DataTypeTok{"organization"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0/organisation/"}\NormalTok{,}
    \DataTypeTok{"meeting"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0/meeting/"}\NormalTok{,}
    \DataTypeTok{"paper"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0/paper/"}\NormalTok{,}
    \DataTypeTok{"member"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0/person/"}\NormalTok{,}
    \DataTypeTok{"classification"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/vocab/landkreis"}\NormalTok{,}
    \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2014-01-08T14:28:31.568+0100"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2014-01-08T14:28:31.568+0100"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Vom OParl-Server wird erwartet, dass er mindestens ein Objekt vom Typ
\texttt{oparl:Body} bereit hält. Teilen sich mehrere Körperschaften das
selbe technische System, können auf demselben Server auch mehrere
Objekte vom Typ \texttt{oparl:Body} beherbergt werden.

Über die Zuordnung zu einem bestimmten \texttt{oparl:Body} Objekt zeigen
andere Objekte, wie beispielsweise Gremien oder Drucksachen, ihre
Zugehörigkeit zu einer bestimmten Körperschaft und damit implizit zu
einem bestimmten Parlament an.

\subsubsection{Eigenschaften}\label{eigenschaften-1}

\begin{description}
\item[\texttt{system}]
System zu dem dieses Objekt gehört. Typ: \texttt{oparl:System}.
ZWINGEND.
\item[\texttt{name}]
Gibt den gebräuchlichen Namen der Körperschaft an. Typ: TODO. ZWINGEND.
\item[\texttt{nameLong}]
Kann bei Bedarf dazu verwendet werden, eine längere Form des Namens der
Körperschaft anzugeben. Typ: TODO. OPTIONAL.
\item[\texttt{website}]
URL der allgemeinen Website der Körperschaft. EMPFOHLEN.
\item[\texttt{license}]
URL der Lizenz, die für die Daten, die über diese API abgerufen werden
können, gilt, sofern nicht am einzelnen Objekt anders angegeben. Sie
dazu auch die übergreifende Beschreibung zur Eigenschaft
\hyperref[eigenschaftux5flicense]{\texttt{license}}. EMPFOHLEN.
\item[\texttt{licenseValidSinceDay}]
Tagesdatum, seit dem die unter license angegebene Lizenz gilt. Vorsicht
bei Änderungen der Lizenz die zu restriktiveren Bedingungen führen. Typ:
TODO EMPFOHLEN
\item[\texttt{rgs}]
Regionalschlüssel der Körperschaft als zwölfstellige
Zeichenkette\footnote{Regionalschlüssel können im
  \href{https://www.destatis.de/DE/ZahlenFakten/LaenderRegionen/Regionales/Gemeindeverzeichnis/Gemeindeverzeichnis.html}{Gemeindeverzeichnis
  (GV-ISys) des Statistischen Bundesamtes} eingesehen werden}. Typ: TODO
EMPFOHLEN
\item[\texttt{equivalentBody}]
Dient der Angabe beliebig vieler zusätzlicher URLs, die die selbe
Körperschaft repräsentieren. Hier können beispielsweise, sofern
vorhanden, der entsprechende Eintrag der Gemeinsamen Normdatei der
Deutschen Nationalbibliothek\footnote{Gemeinsame Normdatei
  \url{http://www.dnb.de/gnd}}, der DBPedia\footnote{DBPedia
  \url{http://www.dbpedia.org/}} oder der Wikipedia\footnote{Wikipedia
  \url{http://de.wikipedia.org/}} angegeben werden. Typ: TODO EMPFOHLEN
\item[\texttt{contactEmail}]
Dient der Angabe einer Kontakt-E-Mail-Adresse mit ``mailto:''-Schema.
Die Adresse soll die Kontaktaufnahme zu einer für die Körperschaft und
idealerweise das parlamentarische Informationssystem zuständigen Stelle
ermöglichen. Typ: TODO EMPFOHLEN
\item[\texttt{contactName}]
Name oder Bezeichnung der mit \texttt{contactEmail} erreichbaren Stelle.
Typ: TODO OPTIONAL.
\item[\texttt{paper}]
Drucksachen unter dieser Körperschaft. Typ: \texttt{oparl:Paper}
ZWINGEND.
\item[\texttt{member}]
Personen in dieser Körperschaft. Typ: \texttt{oparl:Person} ZWINGEND.
\item[\texttt{meeting}]
Sitzungen dieser Körperschaft. Typ: \texttt{oparl:Meeting} ZWINGEND
\item[\texttt{organization}]
Gruppierung in dieser Körperschaft. Typ: \texttt{oparl:Organization}
ZWINGEND
\item[\texttt{classification}]
Typ: \texttt{skos:Concept} OPTIONAL
\item[\texttt{created}]
Datum/Uhrzeit der Erzeugung des Objekts. Typ: TODO EMPFOHLEN.
\item[\texttt{lastModified}]
Datum/Uhrzeit der letzten Bearbeitung des Objekts. Typ: TODO EMPFOHLEN
\end{description}

\hyperdef{}{oparlux5forganization}{\subsection{oparl:Organization
(Gruppierung)}\label{oparlux5forganization}}

Dieser Objekttyp dient dazu, Gruppierungen von Personen abzubilden, die
in der parlamentarischen Arbeit eine Rolle spielen. Dazu zählen in der
Praxis insbesondere Fraktionen und Gremien.

Ein Beispiel in expandierter Form:

\hyperdef{}{organizationux5fex1}{\label{organizationux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/Organization"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/organization/34"}\NormalTok{,}
    \DataTypeTok{"body"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/body/0"}\NormalTok{,}
    \DataTypeTok{"nameShort"}\NormalTok{: \{}
        \ErrorTok{@language}\DataTypeTok{" :"}\ErrorTok{de}\DataTypeTok{",}
\DataTypeTok{        @value"}\NormalTok{: }\StringTok{"Finanzausschuss"}
    \NormalTok{\},}
    \DataTypeTok{"nameLong"}\NormalTok{: \{}
        \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}\NormalTok{,}
        \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Ausschuss für Haushalt und Finanzen"}
    \NormalTok{\},}
    \DataTypeTok{"post"}\NormalTok{: \{}
        \DataTypeTok{"@list"}\NormalTok{: [}
            \StringTok{"https://oparl.beispielris.de/post/chairperson"}\NormalTok{,}
            \StringTok{"https://oparl.beispielris.de/post/deputyChairperson"}
        \NormalTok{]}
    \NormalTok{\},}
    \DataTypeTok{"member"}\NormalTok{: [}
        \StringTok{"https://oparl.beispielris.de/person/27"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/person/48"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/person/57"}
    \NormalTok{],}
    \DataTypeTok{"organizationType"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/vocab/committee"}\NormalTok{,}
    \DataTypeTok{"classification"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/vocab/finance"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-08-16T14:05:27+02:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das selbe Beispiel in kompakter Form.

Ein Kontext:
\textsubscript{\textsubscript{\textasciitilde{}}\textasciitilde{}}\textasciitilde{}\textasciitilde{}
\{ ``@language'': ``de'', \ldots{} \}
\textsubscript{\textsubscript{\textasciitilde{}}\textasciitilde{}}\textasciitilde{}\textasciitilde{}

\hyperdef{}{organizationux5fex2}{\label{organizationux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/organization.jsonld"}\NormalTok{,}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:Organization"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"beispielris:organization/34"}\NormalTok{,}
      \ErrorTok{//} \ErrorTok{kann} \ErrorTok{eventuell} \ErrorTok{weiter} \ErrorTok{verkürzt} \ErrorTok{werden}
    \DataTypeTok{"body"}\NormalTok{: }\StringTok{"0"}\NormalTok{,}
    \DataTypeTok{"nameShort"}\NormalTok{: }\StringTok{"Finanzausschuss"}\NormalTok{,}
    \DataTypeTok{"nameLong"}\NormalTok{: }\StringTok{"Ausschuss für Haushalt und Finanzen"}\NormalTok{,}
    \DataTypeTok{"post:"} \ErrorTok{[}
        \DataTypeTok{"beispielris:post/chairperson"}\NormalTok{,}
        \DataTypeTok{"beispielris:post/deputyChairperson"}
    \ErrorTok{]}\NormalTok{,}
    \DataTypeTok{"members: [}
\DataTypeTok{        "}\ErrorTok{27}\DataTypeTok{",}
\DataTypeTok{        "}\ErrorTok{48}\DataTypeTok{",}
\DataTypeTok{        "}\ErrorTok{57}\DataTypeTok{"}
\DataTypeTok{    ],}
\DataTypeTok{    "}\ErrorTok{organizationType}\DataTypeTok{": "}\ErrorTok{beispielris}\NormalTok{:}\ErrorTok{vocab/committee}\StringTok{",}
\StringTok{    "}\ErrorTok{classification}\StringTok{": "}\ErrorTok{beispielris:vocab/finance}\StringTok{",}
\StringTok{    "}\ErrorTok{modified}\StringTok{": "}\DecValTok{2012-08-16}\ErrorTok{T}\DecValTok{14}\ErrorTok{:}\DecValTok{05}\ErrorTok{:}\DecValTok{27}\ErrorTok{+}\DecValTok{02}\ErrorTok{:}\DecValTok{00}\StringTok{"}
\StringTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-2}

\begin{description}
\item[\texttt{body}]
URL der Körperschaft, zu der diese Gruppierung gehört. ZWINGEND
\item[\texttt{nameShort}]
Der Name der Gruppierung, eine Kurzform. ZWINGEND
\end{description}

TODO: ZWINGEND/OPTIONAL prüfen

\begin{description}
\itemsep1pt\parskip0pt\parsep0pt
\item[\texttt{nameLong}]
Langform des Namens der Gruppierung, der rechtlich korrekte Name.
ZWINGEND
\end{description}

TODO: ZWINGEND/OPTIONAL prüfen

\begin{description}
\itemsep1pt\parskip0pt\parsep0pt
\item[\texttt{post}]
Position oder Positionen, die für diese Gruppierung vorgesehen sind. Die
Objekte gehören zu der Klasse \texttt{org:Post} oder einer ihrer
Unterklassen. Die \texttt{skos:prefLabel}-Eigenschaften der Objekte
SOLLEN sowohl die männliche als auch die weibliche Form enthalten, und
zwar in dem Muster ``männliche Form \textbar{} weibliche Form'' (genau
in der Reihenfolge mit einem Leerzeichen vor und nach dem
``\textbar{}'') Wenn sich beide Formen nicht unterscheiden, dann DARF
die Form nur einmal verwendet werden: ``Mitglied'' und nicht ``Mitglied
\textbar{} Mitglied''. Dadurch kann auch solche Software einen
sinnvollen Text anzeigen, die keine Fall-Unterscheidung nach Geschecht
der Personen vornimmt. z.B. ``Vorsitzender \textbar{} Vorsitzende'',
``1. Stellvertreter \textbar{} 1. Stellvertreterin'', ``2.
Stellvertreter \textbar{} 2. Stellvertreterin'', ``Schriftführer
\textbar{} Schriftführerin'', ``Stellvertretender Schriftführer
\textbar{} Stellvertretende Schriftführerin'', ``Ordentliches
Mitglied'', ``Stellvertretendes Mitglied''
\end{description}

Siehe https://github.com/OParl/specs/issues/45 TODO: ``Ordentliches
Mitglied'', ``Stellvertretendes Mitglied'' müssen anders behandelt
werden! OPTIONAL

\begin{description}
\item[\texttt{member}]
URLs aller Mitglieder dieser Organisation (Objekte vom Typ
\texttt{{[}oparl:Person{]}(\#oparl\_person)}). Auch alle Personen mit
Positionen in der Organisation sind hier anzugeben. ZWINGEND (falls es
Mitglieder gibt)
\item[\texttt{subOrganizationOf}]
Ggf. URL der übergeordneten Organisation. OPTIONAL.
\item[\texttt{created}]
Datum/Uhrzeit der Erzeugung des Objekts. EMPFOHLEN
\item[\texttt{classification}]
Schlagworte. Dies sind \texttt{skos:Concept}-Objekte mit einem
\texttt{skos:prefLabel}-Attribut (für jede unterstützte Sprache) mit
einer Zeichenkette. In einer zukünftigen OParl-Version wird
möglicherweise eine Menge solcher Schlagwort-Objekte definiert.
Anregungen gibt es u.a. in der Tabelle ``Kategorien'' im unteren Drittel
der Seite
http://htmlpreview.github.io/?https://github.com/fraunhoferfokus/ogd-metadata/blob/master/OGPD\_JSON\_Schema.html
OPTIONAL
\item[\texttt{organizationType}]
Objekt mit \texttt{skos:prefLabel}, z.B. ``Rat'', ``Hauptausschuss'',
``Ausschuss'' ``Beirat'', ``Projektbeirat'', ``Kommission'', ``AG'',
``Verwaltungsrat'' OPTIONAL
\item[\texttt{modified}]
Datum/Uhrzeit der letzten Bearbeitung des Objekts. EMPFOHLEN
\end{description}

\subsection{oparl:Person (Person)}\label{oparlux5fperson}

Jede natürliche Person, die in der parlamentarischen Arbeit tätig ist
und insbesondere Mitglied in einer Gruppierung
(\hyperref[oparlux5forganization]{oparl:Organization}), wird mit einem
Objekt vom Typ \texttt{oparl:Person} abgebildet.

Es gibt existieren bereits eine ganze Reihe von Vokabularen für
Personen. Dazu gehören FOAF (Friend of a Friend) und vCard. Es gibt aber
auch der XÖV-Standard für natürliche Personen, ein XML Schema. Für
\texttt{oparl:Person} wurde daraus und basierend auf dem Input der
OParl-Stakeholder eine Auswahl von Eigenschaften zusammengestellt.

TODO: für Personen-Namen und Titel wird keine Mehrsprachigkeit benötigt.
Dies im Kontext berücksichtigen. Dies spricht auch für je einen Kontext
pro Klasse.

Ein Beispiel in expandierter Form:

\hyperdef{}{personux5fex1}{\label{personux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/Person"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/person/29"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Prof. Dr. Max Mustermann"}\NormalTok{,}
    \DataTypeTok{"familyName"}\NormalTok{: \{ }\ErrorTok{//} \ErrorTok{könnte} \ErrorTok{mehrsprachig} \ErrorTok{sein}\NormalTok{, }\ErrorTok{z.B.} \ErrorTok{griechisch}\NormalTok{, }\ErrorTok{russisch}\NormalTok{, }\ErrorTok{tamilisch} 
        \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Mustermann"}\NormalTok{,}
        \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}
    \NormalTok{\},}
    \DataTypeTok{"givenName"}\NormalTok{: \{ }\ErrorTok{//} \ErrorTok{könnte} \ErrorTok{mehrsprachig} \ErrorTok{sein}
        \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Max"}\NormalTok{,}
        \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}
    \NormalTok{\},}
    \DataTypeTok{"title"}\NormalTok{: }\StringTok{"Prof. Dr."}\NormalTok{, }\ErrorTok{//} \ErrorTok{TODO}\NormalTok{: }\ErrorTok{nicht} \ErrorTok{mehrsprachig?!}
    \StringTok{"formOfAddress"}\ErrorTok{:} \StringTok{"https://oparl.beispielris.de/formofaddress/ratsmitglied"}\NormalTok{,}
    \DataTypeTok{"gender"}\NormalTok{: }\StringTok{"http://www.w3.org/2006/vcard/ns#Male"}\NormalTok{,}
    \DataTypeTok{"email"}\NormalTok{: }\StringTok{"mailto:max@mustermann.de"}\NormalTok{,}
    \DataTypeTok{"phone"}\NormalTok{: }\StringTok{"tel:+493012345678"}\NormalTok{,}
    \DataTypeTok{"streetAddress"}\NormalTok{: }\StringTok{"Musterstraße 5"}\NormalTok{, }\ErrorTok{//} \ErrorTok{nicht} \ErrorTok{mehrsprachig}
    \DataTypeTok{"postalCode"}\NormalTok{: }\StringTok{"11111"}\NormalTok{,}
    \DataTypeTok{"locality"}\NormalTok{: \{}
        \DataTypeTok{"de"}\NormalTok{: }\StringTok{"Musterort"}\NormalTok{,}
        \DataTypeTok{"en"}\NormalTok{: }\StringTok{"Sample Town"}
    \NormalTok{\},}
    \DataTypeTok{"organization"}\NormalTok{: [}
        \StringTok{"https://oparl.beispielris.de/organization/11"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/organization/34"}
    \NormalTok{],}
    \DataTypeTok{"status"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/status/buergermeister"}\NormalTok{,}
    \DataTypeTok{"hasMembership"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/membership/34"}\NormalTok{,}
    \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2011-11-11T11:11:00+01:00"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-08-16T14:05:27+02:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das selbe Beispiel in kompakter Form. Zunächst der verwendete Kontext:

\hyperdef{}{personux5fexux5fcontext}{\label{personux5fexux5fcontext}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}\NormalTok{,}
    
    \ErrorTok{//} \ErrorTok{Präfixe} \ErrorTok{siehe} \ErrorTok{Abschnitt} \ErrorTok{8000}

    \DataTypeTok{"gender"}\NormalTok{: }\StringTok{"vcard:hasGender"}\NormalTok{,}
    \DataTypeTok{"givenName"}\NormalTok{: }\StringTok{"foaf:firstName"}\NormalTok{,}
    \DataTypeTok{"familyName"}\NormalTok{: }\StringTok{"foaf:lastName"}\NormalTok{,}
    \DataTypeTok{"academic_degree"}\NormalTok{: \{}
        \DataTypeTok{"@language"}\NormalTok{: }\DecValTok{null} \NormalTok{, }\ErrorTok{//} \ErrorTok{keine} \ErrorTok{Vorgabesprache} \ErrorTok{da} \ErrorTok{nicht} \ErrorTok{mehrsprachig}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"foaf:title"}
    \NormalTok{\},}
    \DataTypeTok{"email"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"foaf:mbox"}\NormalTok{,}
        \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"@id"}
    \NormalTok{\},}
    \DataTypeTok{"phone"}\NormalTok{: }\StringTok{"foaf:phone"}\NormalTok{,}
    \DataTypeTok{"streetAddress"}\NormalTok{: }\StringTok{"vcard:street-address"}\NormalTok{,}
    \DataTypeTok{"locality"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"vcard:locality"}\NormalTok{,}
        \DataTypeTok{"@container"}\NormalTok{: }\StringTok{"@language"} \ErrorTok{//} \ErrorTok{für} \ErrorTok{eine} \StringTok{"language map"}
    \NormalTok{\},}
    \DataTypeTok{"created"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"dc:created"}\NormalTok{,}
        \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"xsd:dateTime"}
    \NormalTok{\},}
    \DataTypeTok{"modified"}\NormalTok{: \{}
        \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"dc:modified"}\NormalTok{,}
        \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"xsd:dateTime"}
    \NormalTok{\}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\hyperdef{}{personux5fex2}{\label{personux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/person.jsonld"}\NormalTok{,}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:Person"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/person/29"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Prof. Dr. Max Mustermann"}\NormalTok{,}
    \DataTypeTok{"familyName"}\NormalTok{: }\StringTok{"Mustermann"}\NormalTok{, }\ErrorTok{//} \ErrorTok{Kontext} \ErrorTok{gibt} \ErrorTok{deutsche} \ErrorTok{Spache} \ErrorTok{vor}
    \DataTypeTok{"givenName"}\NormalTok{: }\StringTok{"Max"}\NormalTok{,}
    \DataTypeTok{"title"}\NormalTok{: }\StringTok{"Prof. Dr."}\NormalTok{,}
    \DataTypeTok{"formOfAddress"}\NormalTok{: }\StringTok{"beispielris:formofaddress/ratsmitglied"}\NormalTok{,}
    \DataTypeTok{"gender"}\NormalTok{: }\StringTok{"vcard:Male"}\NormalTok{,}
    \DataTypeTok{"email"}\NormalTok{: }\StringTok{"mailto:max@mustermann.de"}\NormalTok{,}
    \DataTypeTok{"phone"}\NormalTok{: }\StringTok{"tel:+493012345678"}\NormalTok{,}
    \DataTypeTok{"streetAddress"}\NormalTok{: }\StringTok{"Musterstraße 5"}\NormalTok{,}
    \DataTypeTok{"postalCode"}\NormalTok{: }\StringTok{"11111"}\NormalTok{,}
    \DataTypeTok{"locality"}\NormalTok{: }\StringTok{"Musterort"}\NormalTok{,}
    \DataTypeTok{"locality"}\NormalTok{: \{}
        \DataTypeTok{"en"}\NormalTok{: }\StringTok{"Sample Town"} \ErrorTok{//} \ErrorTok{TODO} \ErrorTok{prüfen}\NormalTok{, }\ErrorTok{ob} \ErrorTok{Eigenschaft} \ErrorTok{doppelt} \ErrorTok{erscheinen} \ErrorTok{darf}
    \NormalTok{\},}
    \DataTypeTok{"organization"}\NormalTok{: [}\StringTok{"11"}\NormalTok{, }\StringTok{"34"}\NormalTok{],}
    \DataTypeTok{"status"}\NormalTok{: }\StringTok{"beispielris:status/buergermeister"}\NormalTok{,}
    \DataTypeTok{"hasMembership"}\NormalTok{: }\StringTok{"beispielris:membership/34"}\NormalTok{,}
    \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2011-11-11T11:11:00+01:00"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-08-16T14:05:27+02:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-3}

\begin{description}
\item[\texttt{name}]
Der vollständige Name der Person mit akademischem Grad und Vornamen.
Typ: TODO ZWINGEND
\item[\texttt{familyName}]
Familienname bzw. Nachname. Typ: TODO OPTIONAL
\item[\texttt{givenName}]
Vorname bzw. Taufname. Typ: TODO OPTIONAL
\item[\texttt{formOfAddress}]
Anrede Begriff mit \texttt{skos:prefLabel}. Ähnlich wie \texttt{status}.
Beispiele für die \texttt{skos:prefLabel} sind ``Ratsherr \textbar{}
Ratsfrau'' und ``Herr \textbar{} Frau''. Typ: \texttt{skos:Concept}
OPTIONAL
\item[\texttt{title}]
Akademische(r) Titel. TODO: ``Dr.''? ``Diplom''? Typ:
\texttt{skos:Concept} OPTIONAL
\item[\texttt{gender}]
Geschlecht. Zulässige Werte sind \texttt{vcard:Female},
\texttt{vcard:Male}, \texttt{vcard:None}, \texttt{vcard:Other} und
\texttt{vcard:Unknown}. Typ: \texttt{vcard:TODO} OPTIONAL
\item[\texttt{phone}]
Telefonnummer mit \texttt{tel:} Schema. Typ: TODO OPTIONAL
\item[\texttt{email}]
E-Mail-Adresse mit \texttt{mailto:} Schema. Typ: \texttt{foaf:mbox}
OPTIONAL
\item[\texttt{streetAddress}]
Straße und Hausnummer der Kontakt-Anschrift der Person. Typ: TODO
OPTIONAL
\item[\texttt{postalCode}]
Postleitzahl der Kontakt-Anschrift der Person. Typ: TODO OPTIONAL
\item[\texttt{locality}]
Ortsangabe der Kontakt-Anschrift der Person. Typ:
\texttt{vcard:locality} OPTIONAL
\item[\texttt{organization}]
Gruppierung in der die Person aktuell Mitglied ist. Typ:
\texttt{oparl:Organization} ZWINGEND
\item[\texttt{status}]
Status. Begriff mit \texttt{skos:prefLabel}. Die Zeichenketten SOLLEN
sowohl die männliche als auch die weibliche Form enthalten, und zwar in
dem Muster ``männliche Form \textbar{} weibliche Form'' (genau in der
Reihenfolge mit einem Leerzeichen vor und nach dem ``\textbar{}'') Wenn
sich beide Formen nicht unterscheiden, dann DARF die Form nur einmal
verwendet werden: ``Mitglied'' und nicht ``Mitglied \textbar{}
Mitglied''. Dadurch kann auch solche Software einen sinnvollen Text
anzeigen, die keine Fall-Unterscheidung nach Geschecht der Personen
vornimmt. z.B. ``Bürgermeister \textbar{} Bürgermeisterin'',
``Bezirksbürgermeister \textbar{} Bezirksbürgermeisterin'',
``Stadtverordneter \textbar{} Stadtverordnete'', ``Bezirksverordneter
\textbar{} Bezirksverordnete'', ``Sachkundiger Bürger \textbar{}
Sachkundige Bürgerin'', ``Einzelstadtverordneter \textbar{}
Einzelstadtverordnete'' (Mitglieder des Rates die keiner
Fraktion/Organisation angehören -\textgreater{} die Zuordbarkeit einer
fiktiven Organisation ermöglichen TODO: warum will man das?). Siehe
https://github.com/OParl/specs/issues/45 Typ: \texttt{skos:Concept}
OPTIONAL
\item[\texttt{hasMembership}]
Mitgliedschaft. TODO: Eventuell Unterklasse von \texttt{org:Membership}
definieren. Typ: \texttt{org:Membership} OPTIONAL.
\item[\texttt{classification}]
Typ: \texttt{skos:Concept} OPTIONAL
\item[\texttt{created}]
Datum/Uhrzeit der Erzeugung des Objekts. Typ: String mit xsd:dateTime
EMPFOHLEN.
\item[\texttt{lastModified}]
Datum/Uhrzeit der letzten Bearbeitung des Objekts. Typ: String mit
xsd:dateTime EMPFOHLEN.
\end{description}

\subsection{oparl:Meeting (Sitzung)}\label{oparlux5fmeeting}

Eine Sitzung ist die Versammlung einer oder mehrerer Gruppierungen
(oparl:Organization) zu einem bestimmten Zeitpunkt an einem bestimmten
Ort.

Die geladenen Teilnehmer der Sitzung sind jeweils als Objekte vom Typ
oparl:Person in entsprechender Form referenziert. Verschiedene Dokumente
(Einladung, Ergebnis- und Wortprotokoll, sonstige Anlagen) können
referenziert werden.

Die Inhalte einer Sitzung werden durch Tagesordnungspunkte
(oparl:AgendaItem) abgebildet.

Ein Beispiel in expandierter Form:

\hyperdef{}{meetingux5fex1}{\label{meetingux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"http://oparl.org/schema/1.0/Meeting"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/meeting/281"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"4. Sitzung des Finanzausschusses"}\NormalTok{,}
    \DataTypeTok{"start"}\NormalTok{: }\StringTok{"2013-01-04T08:00:00+01:00"}\NormalTok{,}
    \DataTypeTok{"end"}\NormalTok{: }\StringTok{"2013-01-04T12:00:00+01:00"}\NormalTok{,}
    \DataTypeTok{"location"}\NormalTok{: \{}
        \DataTypeTok{"description"}\NormalTok{: \{}
            \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Rathaus, Raum 136"}\NormalTok{,}
            \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"de"}
        \NormalTok{\},}
        \DataTypeTok{"description"}\NormalTok{: \{}
            \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Town Hall, room 136"}\NormalTok{,}
            \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"en"}
        \NormalTok{\}}
    \NormalTok{\},}
    \DataTypeTok{"organization"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/organization/34"}\NormalTok{,}
    \DataTypeTok{"participant"}\NormalTok{: [}
        \StringTok{"https://oparl.beispielris.de/person/29"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/person/75"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/person/94"}
    \NormalTok{],}
    \DataTypeTok{"invitation"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/586"}\NormalTok{,}
    \DataTypeTok{"resultsProtocol"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/628"}\NormalTok{,}
    \DataTypeTok{"verbatimProtocol"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/691"}\NormalTok{,}
    \DataTypeTok{"auxiliaryDocument"}\NormalTok{: [}
        \StringTok{"https://oparl.beispielris.de/document/588"}\NormalTok{,}
        \StringTok{"https://oparl.beispielris.de/document/589"}
    \NormalTok{],}
    \DataTypeTok{"agendaItem"}\NormalTok{: \{}
        \DataTypeTok{"@list"}\NormalTok{: [}
            \StringTok{"https://oparl.beispielris.de/agendaitem/1045"}\NormalTok{,}
            \StringTok{"https://oparl.beispielris.de/agendaitem/1046"}\NormalTok{,}
            \StringTok{"https://oparl.beispielris.de/agendaitem/1047"}\NormalTok{,}
            \StringTok{"https://oparl.beispielris.de/agendaitem/1048"}
        \NormalTok{]}
    \NormalTok{\},}
    \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2012-01-06T12:01:00+01:00"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-01-08T14:05:27+01:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das selbe Beispiel in kompakter Form:

\hyperdef{}{meetingux5fex2}{\label{meetingux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/oparl.jsonld"}
    \StringTok{"@type"}\ErrorTok{:} \StringTok{"oparl:Meeting"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/meeting/281"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"4. Sitzung des Finanzausschusses"}\NormalTok{,}
    \DataTypeTok{"start"}\NormalTok{: }\StringTok{"2013-01-04T08:00:00+01:00"}\NormalTok{,}
    \DataTypeTok{"end"}\NormalTok{: }\StringTok{"2013-01-04T12:00:00+01:00"}\NormalTok{,}
    \DataTypeTok{"location"}\NormalTok{: \{}
        \DataTypeTok{"description"}\NormalTok{: }\StringTok{"Rathaus, Raum 136"}\NormalTok{, }\ErrorTok{//} \ErrorTok{default-Sprache} \ErrorTok{ist} \ErrorTok{im} \ErrorTok{Kontext} \ErrorTok{als} \DataTypeTok{"de"} \ErrorTok{angegeben}
        \DataTypeTok{"description"}\NormalTok{: \{}
            \DataTypeTok{"@value"}\NormalTok{: }\StringTok{"Town Hall, room 136"}\NormalTok{,}
            \DataTypeTok{"@language"}\NormalTok{: }\StringTok{"en"}
        \NormalTok{\}}
    \NormalTok{\},}
    \DataTypeTok{"organization"}\NormalTok{: }\StringTok{"beispielris:organization/34"}\NormalTok{,}
    \DataTypeTok{"participant"}\NormalTok{: [}
        \StringTok{"beispielris:person/29"}\NormalTok{,}
        \StringTok{"beispielris:person/75"}\NormalTok{,}
        \StringTok{"beispielris:person/94"}
    \NormalTok{],}
    \DataTypeTok{"invitation"}\NormalTok{: }\StringTok{"beispielris:document/586"}\NormalTok{,}
    \DataTypeTok{"resultsProtocol"}\NormalTok{: }\StringTok{"beispielris:document/628"}\NormalTok{,}
    \DataTypeTok{"verbatimProtocol"}\NormalTok{: }\StringTok{"beispielris:document/691"}\NormalTok{,}
    \DataTypeTok{"auxiliaryDocument"}\NormalTok{: [}
        \StringTok{"beispielris:document/588"}\NormalTok{,}
        \StringTok{"beispielris:document/589"}
    \NormalTok{],}
    \DataTypeTok{"agendaItem"}\NormalTok{: [}
    \ErrorTok{//} \ErrorTok{Reihenfolge} \ErrorTok{ist} \ErrorTok{wichtig}\NormalTok{, }\ErrorTok{deshalb} \ErrorTok{@list} \ErrorTok{im} \ErrorTok{Kontext} \ErrorTok{angeben}
        \StringTok{"beispielris:agendaitem/1045"}\NormalTok{,}
        \StringTok{"beispielris:agendaitem/1046"}\NormalTok{,}
        \StringTok{"beispielris:agendaitem/1047"}\NormalTok{,}
        \StringTok{"beispielris:agendaitem/1048"}
    \NormalTok{],}
    \DataTypeTok{"created"}\NormalTok{: }\StringTok{"2012-01-06T12:01:00+01:00"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-01-08T14:05:27+01:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-4}

\begin{description}
\item[\texttt{start}]
Datum und Uhrzeit des Anfangszeitpunkts der Sitzung. Bei einer
zukünftigen Sitzung ist dies der geplante Zeitpunkt, bei einer
stattgefundenen KANN es der tatsächliche Startzeitpunkt sein. Typ: TODO.
ZWINGEND
\item[\texttt{end}]
Endzeitpunkt der Sitzung als Datum/Uhrzeit. Bei einer zukünftigen
Sitzung ist dies der geplante Zeitpunkt, bei einer stattgefundenen KANN
es der tatsächliche Endzeitpunkt sein. Typ: TODO. EMPFOHLEN
\item[\texttt{location}]
Sitzungsort. Typ: \texttt{oparl:Location}. EMPFOHLEN
\item[\texttt{organization}]
Gruppierung der die Sitzung zugeordnet ist. Wenn eine Liste angegeben
wird, dann ist diese geordnet. Das erste Element ist dann das
federführende Gremium. Typ: \texttt{oparl:Organization}. ZWINGEND
\item[\texttt{participant}]
Teilnehmer der Sitzung. Bei einer Sitzung in der Zukunft sind dies die
geladenen Teilnehmer, bei einer stattgefundenen Sitzung SOLL die Liste
nur diejenigen Teilnehmer umfassen, die tatsächlich an der Sitzung
teilgenommen haben. Typ: \texttt{oparl:Person}. ZWINGEND.
\item[\texttt{invitation}]
Einladungsdokument zur Sitzung. Typ: \texttt{oparl:Document}. EMPFOHLEN.
\item[\texttt{resultsProtocol}]
Ergebnisprotokoll zur Sitzung. Diese Eigenschaft kann selbstverständlich
erst nach dem Stattfinden der Sitzung vorkommen. Typ:
\texttt{oparl:Document}. EMPFOHLEN
\item[\texttt{verbatimProtocol}]
Wortprotokoll zur Sitzung. Diese Eigenschaft kann selbstverständlich
erst nach dem Stattfinden der Sitzung vorkommen. Typ:
\texttt{oparl:Document}. EMPFOHLEN
\item[\texttt{auxiliaryDocument}]
Dokumentenanhang zur Sitzung. Hiermit sind Dokumente gemeint, die
üblicherweise mit der Einladung zu einer Sitzung verteilt werden und die
nicht bereits über einzelne Tagesordnungspunkte referenziert sind. Typ:
\texttt{oparl:Document}. OPTIONAL
\item[\texttt{agendaItem}]
Tagesordnungspunkte der Sitzung. Die Reihenfolge ist relevant. Es kann
Sitzungen ohne TOPs geben. Typ: \texttt{oparl:AgendaItem}. OPTIONAL
\item[\texttt{classification}]
Typ: \texttt{skos:Concept}. OPTIONAL
\item[\texttt{created}]
Datum und Uhrzeit der Erzeugung des Objekts. Typ: TODO. EMPFOHLEN
\item[\texttt{modified}]
Datum und Uhrzeit der letzten Änderung des Objekts. Typ: TODO. EMPFOHLEN
\end{description}

\subsection{oparl:AgendaItem
(Tagesordnungspunkt)}\label{oparlux5fagendaitem}

Tagesordnungspunkte sind die Bestandteile von Sitzungen
(\texttt{oparl:Meeting}). Jeder Tagesordnungspunkt widmet sich
inhaltlich einem bestimmten Thema, wozu in der Regel auch die Beratung
bestimmter Drucksachen gehört.

Ein Beispiel in kompakter Form:

\hyperdef{}{agendaitemux5fex1}{\label{agendaitemux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/oparl.jsonld"}
    \StringTok{"@type"}\ErrorTok{:} \StringTok{"oparl:AgendaItem"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/agendaitem/3271"}\NormalTok{,}
    \DataTypeTok{"meeting"}\NormalTok{: }\StringTok{"beispielris:meeting/281"}\NormalTok{,}
    \DataTypeTok{"number"}\NormalTok{: }\StringTok{"10.1"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Satzungsänderung für Ausschreibungen"}\NormalTok{,}
    \DataTypeTok{"public"}\NormalTok{: }\DecValTok{true}\NormalTok{,}
    \DataTypeTok{"consultations"}\NormalTok{: [}
        \StringTok{"beispielris:consultation/1034"}\NormalTok{,}
        \StringTok{"beispielris:consultation/1235"}
    \NormalTok{],}
    \DataTypeTok{"result"}\NormalTok{: }\StringTok{"besipielris:vocab/decided_modified"}\NormalTok{,}
    \DataTypeTok{"resolutionText"}\NormalTok{: }\StringTok{"Der Beschluss weicht wie folgt vom Antrag ab: ..."}\NormalTok{,}
    \DataTypeTok{"absentParticipant"}\NormalTok{: [}
        \StringTok{"beispielris:person/75"}
    \NormalTok{],}
    \DataTypeTok{"paper"}\NormalTok{: }\StringTok{"beispielris:paper/2812"}\NormalTok{,}
    \DataTypeTok{"modified"}\NormalTok{: }\StringTok{"2012-08-16T14:05:27+02:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-5}

\begin{description}
\item[\texttt{meeting}]
Sitzung, der der Tagesordnungspunkt zugeordnet ist. Typ:
\texttt{oparl:Meeting} ZWINGEND.
\item[\texttt{number}]
Nummer des Tagesordnungspunktes. Eine beliebige Zeichenkette, wie z.B.
``10.'', ``10.1'', ``C'', ``c)'' o.ä. Die Reihenfolge wird dadurch nicht
festgelegt, sondern durch die Reihenfolge der TOPs im
\texttt{agendaItem}-Attribut von \texttt{oparl:Meeting} Typ: TODO
OPTIONAL
\item[\texttt{name}]
Das Thema des Tagesordnungspunktes. Typ: TODO ZWINGEND.
\item[\texttt{public}]
Kennzeichnet, ob der Tagesordnungspunkt zur Behandlung in öffentlicher
Sitzung vorgesehen ist/war. Es wird ein Wahrheitswert (\texttt{true}
oder \texttt{false}) erwartet. Typ: boolean EMPFOHLEN.
\item[\texttt{consultation}]
Beratung, die diesem Tagesordnungspunkt zugewiesen ist. Typ:
\texttt{oparl:Consultation} ZWINGEND.
\item[\texttt{result}]
Kategorische Information darüber, welches Ergebnis die Beratung des
Tagesordnungspunktes erbracht hat. Es wird zu einem Objekt verlinkt,
welches ein \texttt{skos:prefLabel}-Attribut mit einer Zeichenkette hat.
In der Praxis sind hier Kategorien wie ``Unverändert beschlossen'',
``Geändert beschlossen'', ``Endgültig abgelehnt'', ``Zur Kenntnis
genommen'', ``Ohne Votum in nachfolgende Gremien überwiesen'' und
weitere zu erwarten. Alternativ können, sobald dieses zur Verfügung
steht, URLs aus einem OParl Vokabular verwendet werden, wie im Beispiel
oben zu sehen. Diese dienen dazu, Kategorien über Systemgrenzen hinweg
maschinenlesbar zu vereinheitlichen. Typ: \texttt{skos:Concept}
EMPFOHLEN
\item[\texttt{resolutionText}]
Falls in diesem Tagesordnungspunkt ein Beschluss gefasst wurde, kann der
Text hier hinterlegt werden. Das ist besonders dann in der Praxis
relevant, wenn der gefasste Beschluss (z.B. durch Änderungsantrag) von
der Beschlussvorlage abweicht. Typ: TODO OPTIONAL.
\item[\texttt{paper}]
Drucksache. Zwar kann auch das \texttt{oparl:Meeting} darauf verweisen,
aber hier sind solche Verweise in der Regel präziser, da Drucksachen
regelmäßig nur für einen TOP relevant sind und nicht für alle TOPs. Typ:
\texttt{oparl:Paper} OPTIONAL
\item[\texttt{auxiliaryDocument}]
eine weitere relevante Datei. Typ: \texttt{oparl:Document} OPTIONAL
\item[\texttt{classification}]
Typ: \texttt{skos:Concept} OPTIONAL
\item[\texttt{created}]
Erzeugungsdatum und -zeit des Objekts. Typ: TODO EMPFOHLEN
\item[\texttt{lastModified}]
Datum und Uhrzeit der letzten Änderung. Typ: TODO EMPFOHLEN
\end{description}

\hyperdef{}{oparlux5fpaper}{\subsection{oparl:Paper
(Drucksache)}\label{oparlux5fpaper}}

Dieser Objekttyp dient der Abbildung von Drucksachen in der
parlamentarischen Arbeit, wie zum Beispiel Anfragen, Anträgen und
Beschlussvorlagen.

Drucksachen werden in Form einer Beratung (oparl:Consultation) im Rahmen
eines Tagesordnungspunkts (oparl:AgendaItem) einer Sitzung
(oparl:Meeting) behandelt.

Drucksachen spielen in der schriftlichen wie mündlichen Kommunikation
eine besondere Rolle, da in vielen Texten auf bestimmte Drucksachen
Bezug genommen wird. Hierbei kommen in parlamentarischen
Informationssystemen unveränderliche Kennungen der Drucksachen zum
Einsatz.

Zunächst ein Kontext:

\hyperdef{}{paperux5fcontextux5fex}{\label{paperux5fcontextux5fex}}
\begin{Shaded}
\begin{Highlighting}[]
\ErrorTok{//} \ErrorTok{consultations} \ErrorTok{als} \ErrorTok{@list} \ErrorTok{deklarieren!}
\end{Highlighting}
\end{Shaded}

Ein Beispiel in kompakter Form:

\hyperdef{}{paperux5fex1}{\label{paperux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/oparl.jsonld"}
    \StringTok{"@type"}\ErrorTok{:} \StringTok{"oparl:Paper"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/paper/749"}\NormalTok{,}
    \DataTypeTok{"reference"}\NormalTok{: }\StringTok{"1234/2014"}\NormalTok{,}
    \DataTypeTok{"publishedDate"}\NormalTok{: }\StringTok{"2014-04-04T16:42:02+02:00"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Antwort auf Anfrage 1200/2014"}\NormalTok{,}
    \DataTypeTok{"paperType"}\NormalTok{: }\StringTok{"beispielris:vocab/answer"}\NormalTok{,}
    \DataTypeTok{"relatedPaper"}\NormalTok{: }\StringTok{"beispielris:paper/699"}\NormalTok{,}
    \DataTypeTok{"mainDocument"}\NormalTok{: }\StringTok{"beispielris:document/925"}\NormalTok{,}
    \DataTypeTok{"auxiliaryDocument"}\NormalTok{: }\StringTok{"beispielris:document/926"}\NormalTok{,}
    \DataTypeTok{"location"}\NormalTok{: [}
        \NormalTok{\{}
            \DataTypeTok{"description"}\NormalTok{: }\StringTok{"Theodor-Heuss-Ring 1"}\NormalTok{,}
            \DataTypeTok{"geometry"}\NormalTok{: }\StringTok{"POINT(7.148  50.023)"}
        \NormalTok{\}}
    \NormalTok{],}
    \DataTypeTok{"creator"}\NormalTok{: [}
        \StringTok{"beispielris:organization/2000"}\NormalTok{,}
        \StringTok{"beispielris:people/1000"}
    \NormalTok{],}
    \DataTypeTok{"consultation"}\NormalTok{: [}
        \StringTok{"beispielris:consultation/5676"}\NormalTok{,}
        \StringTok{"beispielris:consultation/5689"}
    \NormalTok{]}
    \StringTok{"modified"}\ErrorTok{:} \StringTok{"2013-01-08T12:05:27+01:00"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-6}

\begin{description}
\item[\texttt{reference}]
Beispiel: ``1234/2014'' Typ: TODO OPTIONAL
\item[\texttt{publishedDate}]
Beispiel: ``2014-04-04T16:42:02+02:00'' Typ: TODO EMPFOHLEN
\item[\texttt{name}]
Beispiel: ``Antwort auf Anfrage 1200/2014'' Typ: TODO EMPFOHLEN
\item[\texttt{paperType}]
Begriff mit einem \texttt{skos:prefLabel}-Attribut, dessen Wert eine
Zeichenkette ist und die Art der Drucksache beschreibt, z.B.
``Beantwortung einer Anfrage''. Für die URLs kommen als letztes
Pfadelement z.B. ``draft'', ``petition'', ``request'', ``note'' und
``answer'' in Frage. Denkbar ist auch eine Kategorisierung z.B. in drei
Arten von Drucksachen: initiierend, beratend und protokollierend. Eine
weitere Liste mit exemplarischen Drucksachentypen gibt es hier:
https://wiki.piratenpartei.de/BE:BVVupdates/Glossar Eine zukünftige
Version von OParl wird möglicherweise solche Werte spezifizieren. Typ:
\texttt{skos:Concept} OPTIONAL
\item[\texttt{relatedPaper}]
Typ: \texttt{oparl:Paper} OPTIONAL
\item[\texttt{mainDocument}]
Typ: \texttt{oparl:Document}
\item[\texttt{auxiliaryDocument}]
Typ: \texttt{oparl:Document}
\item[\texttt{location}]
Typ: \texttt{oparl:Location}
\item[\texttt{creator}]
Typ: \texttt{oparl:Person} \textbar{} \texttt{oparl:Organization}
\item[\texttt{consultation}]
Typ: \texttt{oparl:Consultation}
\item[\texttt{modified}]
Typ: TODO Beispiel: ``2013-01-08T12:05:27+01:00''
\item[\texttt{classification}]
Begriff mit \texttt{skos:prefLabel}. Allgemeiner als \texttt{paperType}
Typ: \texttt{skos:Concept} OPTIONAL
\end{description}

TODO: * Festlegen: OPTIONAL / EMPFOHLEN / ZWINGEND * Eigenschaft
``locations'' im Beispiel ändern

\subsection{oparl:Document (Datei)}\label{oparlux5fdocument}

Ein Objekt vom Typ \texttt{oparl:Document} repräsentiert eine Datei,
beispielsweise eine PDF-Datei, ein RTF- oder ODF-Dokument, und hält
Metadaten zu der Datei sowie URLs zum Zugriff auf die Datei bereit.

Ein Beispiel:

\hyperdef{}{documentux5fex1}{\label{documentux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:Document"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/57739"}\NormalTok{,}
    \DataTypeTok{"name"}\NormalTok{: }\StringTok{"Anlage 1 zur Anfrage"}\NormalTok{,}
    \DataTypeTok{"paper"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/paper/2396"}\NormalTok{,}
    \DataTypeTok{"mimeType"}\NormalTok{: }\StringTok{"application/pdf"}\NormalTok{,}
    \DataTypeTok{"date"}\NormalTok{: }\StringTok{"2013-01-04T07:54:13+01:00"}\NormalTok{,}
    \DataTypeTok{"lastModified"}\NormalTok{: }\StringTok{"2013-01-04T07:54:13+01:00"}\NormalTok{,}
    \DataTypeTok{"sha1Checksum"}\NormalTok{: }\StringTok{"da39a3ee5e6b4b0d3255bfef95601890afd80709"}\NormalTok{,}
    \DataTypeTok{"size"}\NormalTok{: }\DecValTok{82930}\NormalTok{,}
    \DataTypeTok{"accessUrl"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/57739.pdf"}\NormalTok{,}
    \DataTypeTok{"downloadUrl"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/download/57739.pdf"}\NormalTok{,}
    \DataTypeTok{"text"}\NormalTok{: }\StringTok{"Der Übersichtsplan zeigt alle Ebenen des ..."}\NormalTok{,}
    \DataTypeTok{"masterDocument"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document/57738"}\NormalTok{,}
    \DataTypeTok{"license"}\NormalTok{: }\StringTok{"http://www.opendefinition.org/licenses/cc-by"}\NormalTok{,}
    \DataTypeTok{"documentRole"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/document-role/evidence"}\NormalTok{,}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Objekt vom Typ \texttt{oparl:Document} können mit Drucksachen
(\texttt{oparl:Paper}) oder Sitzungen (\texttt{oparl:Meeting}) in
Beziehung stehen. Dies wird durch die Eigenschaft \texttt{paper} bzw.
\texttt{meeting} angezeigt.

Mehrere Objekte vom Typ \texttt{oparl:Document} können mit einander in
direkter Beziehung stehen, wenn sie den selben Inhalt in
unterschiedlichen technischen Formaten wiedergeben. Hierfür werden die
Eigenschaften \texttt{masterDocument} bzw. \texttt{derivativeDocuments}
eingesetzt. Das oben angezeigte Beispiel-Objekt repräsentiert eine
PDF-Datei (zu erkennen an der Eigenschaft \texttt{mimeType}) und zeigt
außerdem über die Eigenschaft \texttt{masterDocument} an, von welcher
anderen Datei es abgeleitet wurde. Umgekehrt KANN über die Eigenschaft
\texttt{derivativeDocuments} angezeigt werden, welche Ableitungen einer
Datei existieren.

\subsubsection{Eigenschaften}\label{eigenschaften-7}

\begin{description}
\item[\texttt{name}]
Name des Objekts, der Nutzern angezeigt werden kann. Typ: Zeichenkette.
ZWINGEND
\item[\texttt{mimeType}]
Mime-Typ des Inhalts (vgl. RFC2046\footnote{\url{http://tools.ietf.org/html/rfc2046}}).
Sollte das System einer Datei keinen spezifischen Typ zuweisen können,
wird EMPFOHLEN, hier ``application/octet-stream'' zu verwenden. Typ:
TODO ZWINGEND
\item[\texttt{date}]
Erstellungs- oder Veröffentlichungsdatum und -uhrzeit. Typ: Datum.
ZWINGEND
\item[\texttt{lastModified}]
Datum und Uhrzeit der letzten Änderung der Datei bzw. der Metadaten.
Typ: Datum. ZWINGEND
\item[\texttt{size}]
Größe der Datei in Bytes. Typ: ganze Zahl. ZWINGEND
\item[\texttt{sha1Checksum}]
SHA1-Prüfsumme des Dokumenteninhalts in Hexadezimal-Schreibweise. Typ:
Zeichenkette. OPTIONAL
\item[\texttt{text}]
Reine Text-Wiedergabe des Dateiinhalts, sofern dieser in Textform
wiedergegeben werden kann. Typ: Zeichenkette. EMPFOHLEN
\item[\texttt{accessUrl}]
URL zum gewöhnlichen Abruf der Datei mittels HTTP GET-Aufruf. Typ: URL.
ZWINGEND
\item[\texttt{downloadUrl}]
URL zum Download der Datei. Besser ist es, bereits unter
\texttt{accessUrl} einen ``schönen'' Dateinamen anzugeben. TODO: Zweck
erklären. Typ: URL. EMPFOHLEN
\item[\texttt{paper}]
Drucksache, sofern diese Datei zu einer Drucksache gehört. Wenn diese
Datei zu einer Drucksache gehört, MUSS diese Eigenschaft vorhanden sein,
andernfalls DARF sie NICHT vorhanden sein. TODO: ist das eine
Tautologie? Typ: \texttt{oparl:Paper}
\item[\texttt{meeting}]
Sitzung, sofern diese Datei zu einer Sitzung gehört. Wenn diese Datei zu
einer Sitzung gehört, MUSS diese Eigenschaft vorhanden sein, andernfalls
DARF sie NICHT vorhanden sein. TODO: ist das eine Tautologie? Typ:
\texttt{oparl:Meeting}.
\item[\texttt{masterDocument}]
Datei von der das aktuelle Objekt abgeleitet wurde. Typ:
\texttt{oparl:Document}. OPTIONAL
\item[\texttt{derivativeDocuments}]
Abgeleitete Datei die von dem aktuellen Objekt abgeleitet wurde. Typ:
\texttt{oparl:Document}. OPTIONAL
\item[\texttt{license}]
Lizenz unter der die Datei angeboten wird. Wenn diese Eigenschaft
verwendet wird, dann ist sie anstelle einer globalen Angabe im
übergeordneten \texttt{oparl:Body} bzw. \texttt{oparl:System} Objekt
maßgeblich. Typ: URL. OPTIONAL
\item[\texttt{documentRole}]
Rolle, Funktion, Sorte des Dokuments. Das Objekt enthält ein
\texttt{skos:prefLabel}. Dessen Werte können z.B. sein: ``Einladung'',
``Protokoll'', ``Wortprotokoll'' oder ``Beschlussprotokoll''. In einer
zukünftigen OParl-Version wird möglicherweise eine Menge der wichtigsten
Kategorien vorgegeben. TODO: Besser in \texttt{oparl:Paper} oder
\texttt{oparl:Meeting} ? Siehe Diskussion unter
https://github.com/OParl/specs/issues/65 Typ: \texttt{skos:Concept}
OPTIONAL
\item[\texttt{classification}]
Begriff mit \texttt{skos:prefLabel}. Hat allgemeinere Bedeutung als
\texttt{documentRole}. Typ: \texttt{skos:Concept} OPTIONAL
\end{description}

\subsubsection{Siehe auch}\label{siehe-auch}

\begin{itemize}
\itemsep1pt\parskip0pt\parsep0pt
\item
  \hyperref[dateizugriff]{Dateizugriff}
\end{itemize}

\subsection{oparl:Consultation (Beratung)}\label{oparlux5fconsultation}

Der Objekttyp \texttt{oparl:Consultation} dient dazu, die Beratung einer
Drucksache (\hyperref[oparlux5fpaper]{\texttt{oparl:Paper}}) in einer
Sitzung abzubilden. Dabei ist es nicht entscheidend, ob diese Beratung
in der Vergangenheit stattgefunden hat oder diese für die Zukunft
geplant ist.

Die Gesamtheit aller Objekte des Typs \texttt{oparl:Consultation} zu
einer bestimmten Drucksache bildet das ab, was in der Praxis als
``Beratungsfolge'' der Drucksache bezeichnet wird.

Ein Beispiel:

\hyperdef{}{consultationux5fex1}{\label{consultationux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:Consultation"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/consultation/47594"}\NormalTok{,}
    \DataTypeTok{"paper"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/paper/2396"}\NormalTok{,}
    \DataTypeTok{"agendaitem"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/agendaitem/15569"}\NormalTok{,}
    \DataTypeTok{"committee"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/organization/96"}\NormalTok{,}
    \DataTypeTok{"authoritative"}\NormalTok{: }\DecValTok{false}\NormalTok{,}
    \DataTypeTok{"role"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/role/decision"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das selbe Beispiel in kompakter Form (ein passender Kontext wird
vorausgesetzt):

\hyperdef{}{consultationux5fex2}{\label{consultationux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/oparl.jsonld"}\NormalTok{,}
    \DataTypeTok{"@type"}\NormalTok{: }\StringTok{"oparl:Consultation"}\NormalTok{,}
    \DataTypeTok{"@id"}\NormalTok{: }\StringTok{"beispielris:consultation/47594"}\NormalTok{,}
    \DataTypeTok{"paper"}\NormalTok{: }\StringTok{"beispielris:paper/2396"}\NormalTok{,}
    \DataTypeTok{"agendaitem"}\NormalTok{: }\StringTok{"beispielris:agendaitem/15569"}\NormalTok{,}
    \DataTypeTok{"committee"}\NormalTok{: }\StringTok{"beispielris:organization/96"}\NormalTok{,}
    \DataTypeTok{"authoritative"}\NormalTok{: }\DecValTok{false}\NormalTok{,}
    \DataTypeTok{"role"}\NormalTok{: }\StringTok{"beispielris:role/decision"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Das Objekt ``beispielris:roles/decision'' kann so aussehen:

\hyperdef{}{roleux5fex1}{\label{roleux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"@context"}\NormalTok{: }\StringTok{"https://oparl.beispielris.de/Pfad/zum/Kontext/oparl.jsonld"}
    \StringTok{"@id"}\ErrorTok{:} \StringTok{"beispielris:role/decision"}\NormalTok{,}
    \DataTypeTok{"prefLabel"}\NormalTok{: \{}
        \DataTypeTok{"de"}\NormalTok{: }\StringTok{"Entscheidung"}\NormalTok{,}
        \DataTypeTok{"en"}\NormalTok{: }\StringTok{"decision"}
    \NormalTok{\}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Eigenschaften}\label{eigenschaften-8}

\begin{description}
\item[\texttt{paper}]
Drucksache, die beraten wird. Typ: \texttt{oparl:Paper} ZWINGEND.
\item[\texttt{agendaitem}]
Tagesordnungspunkt, unter dem die Drucksache beraten wird. Typ:
\texttt{oparl:AgendaItem} ZWINGEND.
\item[\texttt{committee}]
Gremium, dem die Sitzung zugewiesen ist, zu welcher der zuvor genannte
Tagesordnungspunkt gehört. Hier kann auch eine mit Liste von Gremien
angegeben werden (die verschiedenen \texttt{oparl:Body} und
\texttt{oparl:System} angehören können). Die Liste ist dann geordnet.
Das erste Gremium der Liste ist federführend. Typ:
\texttt{oparl:Organization} ZWINGEND.
\item[\texttt{authoritative}]
Drückt aus, ob bei dieser Beratung ein Beschluss zu der Drucksache
gefasst wird (\texttt{true}) wird oder nicht (\texttt{false}). Typ:
boolean. Diese Eigenschaft ist OPTIONAL.
\item[\texttt{role}]
Rolle oder Funktion der Beratung. z.B. Anhörung (hearing), Entscheidung
(decision), Kenntnisnahme (notice), Vorberatung (counseling) usw. Es
wird empfohlen in den URLs entsprechende englische Bestandteile zu
verwenden. Die Rollenobjekte haben nur eine festgelegte Eigenschaft:
\texttt{skos:prefLabel} für den Namen. In einer zukünftigen Version von
OParl können gegebenenfalls die am stärksten benötigten Rollen
standardisiert werden. Typ: \texttt{skos:Concept} OPTIONAL
\item[\texttt{classification}]
Schlagwort, Begriff mit \texttt{skos:prefLabel}. Allgemeiner verwendbar
als \texttt{role}. Typ: \texttt{skos:Concept} OPTIONAL
\end{description}

\subsection{oparl:Location (Ort)}\label{oparlux5flocation}

Dieser Objekttyp dient dazu, den Ortsbezug einer Drucksache formal
abzubilden. Ortsangaben können sowohl aus Textinformationen bestehen
(beispielsweise dem Namen einer Straße/eines Platzes oder eine genaue
Adresse) als auch aus Geodaten.

In der Praxis soll dies dazu dienen, den geografischen Bezug eines
politischen Vorgangs, wie zum Beispiel eines Bauvorhabens oder der
Änderung eines Flächennutzungsplanes, maschinenlesbar nachvollziehbar zu
machen.

Dieser Objekttyp kann für Objekte im Kontext des Objekttyps
\texttt{oparl:Paper} verwendet werden.

Ein einfaches Beispiel:

\hyperdef{}{locationux5fex1}{\label{locationux5fex1}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \ErrorTok{...}
    \DataTypeTok{"location"}\NormalTok{: \{}
        \DataTypeTok{"description"}\NormalTok{: }\StringTok{"Honschaftsstraße 312, Köln"}\NormalTok{,}
        \DataTypeTok{"geometry"}\NormalTok{: }\StringTok{"POINT (7.03291 50.98249)"}
    \NormalTok{\},}
    \ErrorTok{...}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Ein Kontext (TODO: Kann das weg?):

\begin{verbatim}
{
   "geometry":
   {
     "@type": "ogc:wktLiteral" 
   }
}
\end{verbatim}

Und ein Beispiel unter Verwendung des Kontextes:

\hyperdef{}{locationux5fex2}{\label{locationux5fex2}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \ErrorTok{//} \ErrorTok{...}
    \DataTypeTok{"location"}\NormalTok{: \{}
        \DataTypeTok{"description"}\NormalTok{: }\StringTok{"Honschaftsstraße 312, Köln"}\NormalTok{,}
        \DataTypeTok{"geometry"}\NormalTok{: }\StringTok{"POINT (7.03291 50.98249)"}
    \NormalTok{\},}
    \ErrorTok{//} \ErrorTok{...}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

OParl sieht bei Angabe von Geodaten ZWINGEND die Verwendung
des\\Well-Known-Text-Formats (WKT) der Simple Feature Access
Spezifikation\footnote{Simple Feature Access Spezifikation:
  \url{http://www.opengeospatial.org/standards/sfa}} vor. WKT erlaubt
die Beschreibung von unterschiedlichen Geometrien wie Punkten
(\texttt{Point}), Pfaden (\texttt{LineString}), Polygonen
(\texttt{Polygon}) und viele andere mehr.

Zum Zeitpunkt der Erstellung der vorliegenden Spezifikation ist Version
1.2.1 der Simple-Feature-Access-Spezifikation aktuell. OParl stellt
keine Anforderungen daran, welche Version von Simple-Feature-Access bei
der Ausgabe von WKT zu unterstützen ist.

Für die Ausgabe über eine OParl API MÜSSEN sämtliche Koordinatenangaben
solcher Geodaten im System WGS84\footnote{WGS84 steht für ``World
  Geodetic System 1984'', es wird unter anderem auch vom Global
  Positioning System (GPS) verwendet. In geografischen
  Informationssystemen ist für das System der EPSG-Code 4326 geläufig.}
angegeben werden, und zwar in Form von Zahlenwerten (Fließkommazahlen)
für Längen- und Breitengrad.

\subsubsection{Eigenschaften}\label{eigenschaften-9}

\begin{description}
\item[\texttt{description}]
Textliche Beschreibung eines Orts, z.B. in Form einer Adresse. Typ:
Zeichenkette. EMPFOHLEN
\item[\texttt{geometry}]
Geodaten-Repräsentation des Orts. Ist diese Eigenschaft gesetzt, MUSS
ihr Wert der Spezifikation von Well-Known Text (WKT) entsprechen. Typ:
Zeichenkette (TODO: Stimmt das?). OPTIONAL
\item[\texttt{classification}]
Schlagwort mit \texttt{skos:prefLabel} Typ: \texttt{skos:Concept}
OPTIONAL
\end{description}

\subsubsection{Weitere Beispiele}\label{weitere-beispiele}

Ortsangabe mit Polygon-Objekt:

\hyperdef{}{locationux5fex3}{\label{locationux5fex3}}
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
    \DataTypeTok{"description"}\NormalTok{: }\StringTok{"Rechtes Rheinufer zwischen Deutzer}
\StringTok{        Brücke und Hohenzollernbrücke"}\NormalTok{,}
    \DataTypeTok{"geometry"}\NormalTok{: }\StringTok{"POLYGON ((}
\StringTok{                6.9681106 50.9412137,}
\StringTok{                6.9690940 50.9412137,}
\StringTok{                6.9692169 50.9368270,}
\StringTok{                6.9681218 50.9368270,}
\StringTok{                6.9681106 50.9412137))"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{org:Membership oder
oparl:Membership}\label{oparlux5fmembership}

TODO. Siehe: https://github.com/OParl/specs/issues/122
https://github.com/OParl/specs/issues/109

\subsubsection{Eigenschaften}\label{eigenschaften-10}

\begin{description}
\item[\texttt{person}]
Person. Typ: \texttt{oparl:Person} OPTIONAL
\item[\texttt{organization}]
Organization. Typ: \texttt{oparl:Organization} OPTIONAL
\item[\texttt{role}]
Rolle. Das Objekt hat eine \texttt{skos:prefLabel}-Eigenschaft, deren
Wert eine Funktionsbezeichnung ist, z.B. ``1. pers. Vertreter \textbar{}
1. pers. Vertreterin'' oder ``2. pers. Vertreter \textbar{} 2. pers.
Vertreterin''. Popolo: ``The role that the person fulfills in the
organization''. normale Mitglieder haben in der Regel keine eigene
Funktion, aber auch eine Unterscheidung zwischen z.B. ``Sachkundige
Bürger \textbar{} Sachkundige Bürgerin'' und ``Ratsherr \textbar{}
Ratsfrau'' bei einfachen Mitgliedern ist hiermit möglich. TODO: was ist
mit einem sachkundigen Bürger, der gleichzeitig Vorsitzender ist? Typ:
\texttt{org:Role} OPTIONAL
\item[\texttt{post}]
The post held by the person in the organization Typ: \texttt{org:Post}
OPTIONAL
\item[\texttt{onBehalfOf}]
Entsendende Organization - Fraktion, fraktionslos oder externes Gremium
Dies entspricht \texttt{opengov:onBehalfOf} in Popolo. TODO: wie wird
fraktionslos kodiert? Typ: \texttt{oparl:Organization} OPTIONAL
\item[\texttt{startDate}]
\texttt{schema:validFrom} wie in Popolo. The date on which the
relationship began Typ: TODO OPTIONAL
\item[\texttt{endDate}]
\texttt{schema:validThrough} wie in Popolo. The date on which the
relationship ended Typ: TODO OPTIONAL
\end{description}

\subsubsection{Hinweise}\label{hinweise}

http://www.w3.org/TR/vocab-org/\#membership-roles-posts-and-reporting

http://popoloproject.com/specs/membership.html

\section{Glossar}\label{glossar}

\begin{description}
\item[IRI]
Internationalized Resource Identifier ist die internationalisierte Form
der Uniform Resource Identifier (URI). Diese sind in RFC 3987
spezifiziert (http://tools.ietf.org/html/rfc3987). In der
OParl-Spezifikation sind grundsätzlich auch dann IRIs gemeint, wenn die
Bezeichnungen URI oder URL verwendet werden. Dies dient der Lesbarkeit,
auch wenn es technisch nicht korrekt ist.
\item[JSON]
JavaScript Object Notation ist ein strukturiertes Datenformat, welches
als Teil von JavaScript bzw. ECMAScript spezifiziert ist.
\item[JSON-LD]
JSON for Linked Data
\item[RIS]
Ratsinformationssystem
\item[URI]
Uniform Resource Identifier. In der OParl-Spezifikation sind
grundsätzlich auch dann IRIs gemeint, wenn die Bezeichnung URI verwendet
wird.
\item[URL]
Uniform Resource Locator. In der OParl-Spezifikation sind grundsätzlich
auch dann IRIs gemeint, wenn die Bezeichnungen URL verwendet wird.
\item[WGS 84]
World Geodetic System 1984. Ein weltweites Referenzsystem für die
Interpretation von Geokoordinaten-Angaben.
\end{description}

\hyperdef{}{jsonldux5fressourcenux5foparlorg}{\section{JSON-LD-Ressourcen
auf oparl.org}\label{jsonldux5fressourcenux5foparlorg}}

TODO: Beschreiben, wo weitere Informationen über
JSON-LD-Kontextdokumente zu finden sein werden.

\end{document}
